<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <title>LiLiÂΩ±Â≠êË∑üËØªÂÆåÁæéÁâà - ‰∏ì‰∏öËØ≠Ë®ÄÂ≠¶‰π†Â∑•ÂÖ∑</title>
    <!-- ‰ΩøÁî®ÂõΩÂÜÖCDNÔºåÊèêÈ´òËÆøÈóÆÈÄüÂ∫¶ -->
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.cnpmjs.org/css2?family=Roboto:wght@400;500;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Â§áÁî®Â≠ó‰ΩìÔºåÈò≤Ê≠¢Google FontsÊó†Ê≥ïËÆøÈóÆ -->
    <style>
        @import url('https://fonts.googleapis.cnpmjs.org/css2?family=Roboto:wght@400;500;700&family=Noto+Sans+SC:wght@400;500;700&display=swap');
        
        /* Â§áÁî®ÂõæÊ†áÂ≠ó‰ΩìÔºåÈò≤Ê≠¢CDNËÆøÈóÆÂ§±Ë¥• */
        @font-face {
            font-family: 'FallbackIcons';
            src: local('Arial');
        }
        
        /* Â§áÁî®ÂõæÊ†áÊ†∑Âºè */
        .fas.fa-play::before { content: '‚ñ∂'; }
        .fas.fa-pause::before { content: '‚è∏'; }
        .fas.fa-step-backward::before { content: '‚èÆ'; }
        .fas.fa-step-forward::before { content: '‚è≠'; }
        .fas.fa-repeat::before { content: 'üîÅ'; }
        .fas.fa-closed-captioning::before { content: 'üì∫'; }
        .fas.fa-video::before { content: 'üé•'; }
        
        /* Â§áÁî®Â≠ó‰ΩìËÆæÁΩÆ */
        body {
            font-family: 'Roboto', 'Noto Sans SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
        }
        
        /* Â§áÁî®ÊñπÊ°àÊ†∑Âºè */
        .fallback-icons .fas {
            font-family: 'FallbackIcons', Arial, sans-serif;
        }
        
        .fallback-fonts {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif !important;
        }
        
        /* ÁΩëÁªúÁä∂ÊÄÅÊåáÁ§∫Âô® */
        .network-status {
            position: fixed;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            z-index: 1000;
            opacity: 0.8;
            transition: opacity 0.3s;
        }
        
        .network-status.online {
            background: rgba(46, 196, 182, 0.8);
            color: white;
        }
        
        .network-status.offline {
            background: rgba(230, 57, 70, 0.8);
            color: white;
        }
        
        .network-status.fallback {
            background: rgba(255, 159, 28, 0.8);
            color: white;
        }
    </style>
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --accent: #4cc9f0;
            --dark: #1d3557;
            --light: #f1faee;
            --success: #2ec4b6;
            --warning: #ff9f1c;
            --danger: #e63946;
            --text: #333;
            --subtitle-eng: #FFD700;
            --subtitle-chi: #4cc9f0;
            --subtitle-size-base: 1.6rem;
            --subtitle-size-eng: 1.7rem;
            --subtitle-size-chi: 1.6rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', 'Noto Sans SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #1a2a6c, #2a3c6c, #3a4c6c);
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-attachment: fixed;
        }

        .container {
            max-width: 1000px;
            width: 100%;
            background: rgba(29, 53, 87, 0.85);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            margin: 20px auto;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        header {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            padding: 20px;
            text-align: center;
            position: relative;
            border-bottom: 3px solid var(--accent);
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            letter-spacing: 2px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            margin: 0;
            position: relative;
        }

        .tagline {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-top: 5px;
            letter-spacing: 1px;
        }

        .main-content {
            padding: 25px;
        }

        .video-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            background: #000;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            margin-bottom: 25px;
        }

        .video-player {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #111;
            border: none;
        }

        .subtitle-container {
            position: absolute;
            bottom: 3px;
            left: 0;
            width: 100%;
            text-align: center;
            z-index: 10;
            padding: 0 15px;
            transition: opacity 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            gap: 2px;
            pointer-events: none;
            max-height: 40%;
            overflow: visible;
            box-sizing: border-box;
        }

        .subtitle {
            font-size: var(--subtitle-size-base);
            font-weight: 700;
            text-shadow: 
                -1px -1px 0 #000,  
                1px -1px 0 #000,
                -1px 1px 0 #000,
                1px 1px 0 #000,
                0 0 3px rgba(0, 0, 0, 0.8);
            line-height: 1.3;
            margin: 0;
            padding: 3px 10px;
            display: flex;
            border-radius: 4px;
            background: transparent;
            transition: all 0.3s ease;
            width: auto;
            max-width: 95%;
            word-wrap: break-word;
            overflow-wrap: break-word;
            word-break: break-word;
            max-height: none;
            overflow: visible;
            white-space: normal;
            text-overflow: clip;
            hyphens: auto;
            cursor: pointer;
            box-sizing: border-box;
        }

        /* ÂçïËØçÁÇπÂáªÊ†∑Âºè */
        .word-clickable {
            cursor: pointer;
            transition: all 0.2s ease;
            border-radius: 3px;
            padding: 1px 2px;
            margin: 0 1px;
        }

        .word-clickable:hover {
            background: rgba(255, 215, 0, 0.3);
            color: #FFD700;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.8);
        }

        .word-clickable.clicked {
            background: rgba(76, 201, 240, 0.4);
            color: #4cc9f0;
            text-shadow: 0 0 8px rgba(76, 201, 240, 0.8);
        }

        /* ÂçïËØçÈáä‰πâÂºπÁ™ó */
        .word-popup {
            position: fixed;
            background: rgba(29, 53, 87, 0.95);
            border: 2px solid var(--accent);
            border-radius: 12px;
            padding: 15px;
            max-width: 350px;
            min-width: 250px;
            z-index: 10000;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: var(--light);
            font-size: 0.9rem;
            line-height: 1.4;
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.3s ease;
            pointer-events: none;
        }

        .word-popup.show {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
        }

        .word-popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(76, 201, 240, 0.3);
        }

        .word-popup-word {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent);
        }

        .word-popup-close {
            background: none;
            border: none;
            color: var(--light);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 2px;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .word-popup-close:hover {
            background: rgba(230, 57, 70, 0.3);
            color: var(--danger);
        }

        .word-popup-phonetic {
            font-size: 0.8rem;
            color: var(--warning);
            margin-bottom: 8px;
            font-style: italic;
        }

        .word-popup-meaning {
            margin-bottom: 10px;
            color: var(--light);
        }

        .word-popup-exam-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 8px;
        }

        .exam-tag {
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .exam-tag.cet4 {
            background: rgba(46, 196, 182, 0.3);
            color: #2ec4b6;
            border: 1px solid rgba(46, 196, 182, 0.5);
        }

        .exam-tag.cet6 {
            background: rgba(255, 159, 28, 0.3);
            color: #ff9f1c;
            border: 1px solid rgba(255, 159, 28, 0.5);
        }

        .exam-tag.cet8 {
            background: rgba(230, 57, 70, 0.3);
            color: #e63946;
            border: 1px solid rgba(230, 57, 70, 0.5);
        }

        .exam-tag.ielts {
            background: rgba(67, 97, 238, 0.3);
            color: #4361ee;
            border: 1px solid rgba(67, 97, 238, 0.5);
        }

        .exam-tag.toefl {
            background: rgba(76, 201, 240, 0.3);
            color: #4cc9f0;
            border: 1px solid rgba(76, 201, 240, 0.5);
        }

        .exam-tag.gre {
            background: rgba(147, 112, 219, 0.3);
            color: #9370db;
            border: 1px solid rgba(147, 112, 219, 0.5);
        }

        .exam-tag.gaokao {
            background: rgba(255, 105, 180, 0.3);
            color: #ff69b4;
            border: 1px solid rgba(255, 105, 180, 0.5);
        }

        .exam-tag.kaoyan {
            background: rgba(255, 20, 147, 0.3);
            color: #ff1493;
            border: 1px solid rgba(255, 20, 147, 0.5);
        }

        .word-popup-example {
            margin-top: 8px;
            padding: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            font-style: italic;
            font-size: 0.85rem;
        }

        .word-popup-example-title {
            color: var(--accent);
            font-weight: 600;
            margin-bottom: 4px;
        }

        /* ÁßªÂä®Á´ØÂºπÁ™ó‰ºòÂåñ */
        @media (max-width: 768px) {
            .word-popup {
                max-width: 90vw;
                min-width: 280px;
                left: 5vw !important;
                right: 5vw !important;
                transform: translateX(0) !important;
            }
        }

        .english {
            color: var(--subtitle-eng);
            font-size: calc(var(--subtitle-size-eng) + 2px);
            order: 1 !important;
            flex-shrink: 0;
        }

        .chinese {
            color: var(--subtitle-chi);
            font-size: var(--subtitle-size-chi);
            order: 2 !important;
            flex-shrink: 0;
        }

        .controls {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .primary-controls {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-bottom: 20px;
        }

        .secondary-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 20px;
            border-radius: 50px;
        }

        .btn {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.4rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-large {
            width: 70px;
            height: 70px;
            font-size: 1.8rem;
        }

        .toggle-btn {
            background: rgba(67, 97, 238, 0.2);
            color: var(--accent);
            border: 2px solid var(--accent);
        }

        .toggle-btn.active {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
        }

        .counter {
            font-size: 1.2rem;
            font-weight: 700;
            background: var(--success);
            color: white;
            border-radius: 20px;
            padding: 8px 15px;
            min-width: 100px;
            text-align: center;
        }

        .speed-control {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .speed-btn {
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: var(--light);
            cursor: pointer;
            transition: all 0.2s;
        }

        .speed-btn:hover {
            background: rgba(76, 201, 240, 0.3);
        }

        .speed-btn.active {
            background: var(--accent);
            color: var(--dark);
            font-weight: 700;
        }

        /* ÊâãÊú∫Á´ØÂÄçÈÄüÊåâÈíÆ */
        .mobile-speed-btn {
            display: none;
            background: rgba(67, 97, 238, 0.2);
            color: var(--accent);
            border: 2px solid var(--accent);
            border-radius: 50%;
            width: 45px;
            height: 45px;
            font-size: 1.2rem;
            cursor: pointer;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            margin-left: 10px;
        }

        .mobile-speed-btn:hover {
            background: rgba(76, 201, 240, 0.3);
            transform: translateY(-2px);
        }

        .mobile-speed-btn.active {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
        }

        /* ÂÄçÈÄüÈÄâÊã©ÂºπÁ™ó */
        .speed-popup {
            position: fixed;
            background: rgba(29, 53, 87, 0.95);
            border: 2px solid var(--accent);
            border-radius: 12px;
            padding: 0;
            max-width: 300px;
            min-width: 250px;
            z-index: 10000;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: var(--light);
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.3s ease;
            pointer-events: none;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
        }

        .speed-popup.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            pointer-events: auto;
        }

        .speed-popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 15px 20px 0 20px;
            border-bottom: 1px solid rgba(76, 201, 240, 0.3);
        }

        .speed-popup-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--accent);
        }

        .speed-popup-close {
            background: none;
            border: none;
            color: var(--light);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 2px;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .speed-popup-close:hover {
            background: rgba(230, 57, 70, 0.3);
            color: var(--danger);
        }

        .speed-popup-content {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .speed-popup-btn {
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: var(--light);
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1rem;
            font-weight: 500;
            text-align: center;
        }

        .speed-popup-btn:hover {
            background: rgba(76, 201, 240, 0.3);
            border-color: var(--accent);
        }

        .speed-popup-btn.active {
            background: var(--accent);
            color: var(--dark);
            font-weight: 700;
            border-color: var(--accent);
        }

        .file-upload {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 20px;
            margin-top: 15px;
        }

        .upload-title {
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.3rem;
            color: var(--accent);
        }

        .upload-options {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .upload-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 25px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            border: 2px solid var(--accent);
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .upload-btn:hover {
            background: rgba(76, 201, 240, 0.3);
            transform: translateY(-2px);
        }
        
        /* ÁßªÂä®Á´ØËß¶Êë∏‰ºòÂåñ */
        .upload-btn:active {
            background: rgba(76, 201, 240, 0.5);
            transform: scale(0.95);
        }
        
        /* iOSËÆæÂ§áÁâπÊÆäÊ†∑Âºè */
        @supports (-webkit-touch-callout: none) {
            .upload-btn {
                -webkit-tap-highlight-color: transparent;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                user-select: none;
            }
            
            .file-input {
                -webkit-tap-highlight-color: transparent;
            }
            
            /* iOSÊñá‰ª∂ÈÄâÊã©Âô®‰ºòÂåñ */
            .ios-file-selector {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                opacity: 0;
                z-index: -1;
            }
            
            
        }

        .file-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        .status {
            text-align: center;
            margin-top: 15px;
            font-size: 0.9rem;
            color: var(--warning);
            min-height: 20px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }
        
        .status.error {
            color: var(--danger);
            background: rgba(230, 57, 70, 0.1);
            border: 1px solid rgba(230, 57, 70, 0.3);
        }
        
        .status.success {
            color: var(--success);
            background: rgba(46, 196, 182, 0.1);
            border: 1px solid rgba(46, 196, 182, 0.3);
        }
        
        .status.info {
            color: var(--accent);
            background: rgba(76, 201, 240, 0.1);
            border: 1px solid rgba(76, 201, 240, 0.3);
        }

        .progress-container {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-top: 10px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, var(--primary), var(--accent));
            border-radius: 4px;
            width: 0%;
            transition: width 0.1s linear;
        }

        /* ÂìçÂ∫îÂºèËÆæËÆ° - Â§ßÂ±èÂπï */
        @media (min-width: 1200px) {
            :root {
                --subtitle-size-base: 1.75rem;
                --subtitle-size-eng: 1.85rem;
                --subtitle-size-chi: 1.75rem;
            }
            
            .english {
                font-size: calc(1.85rem + 2px) !important;
                order: 1 !important;
            }
            
            .chinese {
                font-size: 1.75rem !important;
                order: 2 !important;
            }
            
            .subtitle {
                max-width: 90%;
            }
        }

        /* ÂìçÂ∫îÂºèËÆæËÆ° - ‰∏≠Á≠âÂ±èÂπï */
        @media (max-width: 1199px) and (min-width: 769px) {
            :root {
                --subtitle-size-base: 1.625rem;
                --subtitle-size-eng: 1.725rem;
                --subtitle-size-chi: 1.625rem;
            }
            
            .english {
                font-size: calc(1.725rem + 2px) !important;
                order: 1 !important;
            }
            
            .chinese {
                font-size: 1.625rem !important;
                order: 2 !important;
            }
            
            .subtitle {
                max-width: 92%;
            }
        }

        /* ÂìçÂ∫îÂºèËÆæËÆ° - Âπ≥Êùø */

        @media (max-width: 768px) {
            :root {
                --subtitle-size-base: 1.3rem;
                --subtitle-size-eng: 1.4rem;
                --subtitle-size-chi: 1.3rem;
            }
            
            .english {
                font-size: calc(1.4rem + 2px) !important;
                order: 1 !important;
            }
            
            .chinese {
                font-size: 1.3rem !important;
                order: 2 !important;
            }
            
            .container {
                margin: 10px;
            }
            
            .primary-controls {
                gap: 15px;
            }
            
            .secondary-controls {
                gap: 10px;
            }
            
            .btn {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
            
            .btn-large {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
            
            .subtitle {
                max-width: 95%;
                padding: 2px 8px;
                max-height: none;
                font-size: 1.3rem !important;
                white-space: normal;
                overflow: visible;
                text-overflow: clip;
                line-height: 1.4;
            }
            
            .control-group {
                padding: 8px 15px;
            }
            
            .counter {
                font-size: 1rem;
                min-width: 80px;
                padding: 6px 10px;
            }
            
            .speed-btn {
                padding: 6px 12px;
                font-size: 0.9rem;
            }
        }

        /* ÂìçÂ∫îÂºèËÆæËÆ° - ÊâãÊú∫ */
        @media (max-width: 480px) {
            :root {
                --subtitle-size-base: 0.85rem;
                --subtitle-size-eng: 0.95rem;
                --subtitle-size-chi: 0.85rem;
            }
            
            .english {
                font-size: 0.95rem !important;
                order: 1 !important;
            }
            
            .chinese {
                font-size: 0.85rem !important;
                order: 2 !important;
            }
            
            /* ÊâãÊú∫Á´ØÂÄçÈÄüÊéßÂà∂ */
            .speed-control {
                display: none;
            }
            
            .mobile-speed-btn {
                display: flex !important;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .primary-controls {
                gap: 8px;
            }
            
            .btn {
                width: 45px;
                height: 45px;
            }
            
            .btn-large {
                width: 55px;
                height: 55px;
            }
            
            .subtitle {
                max-width: 95%;
                padding: 2px 6px;
                line-height: 1.3;
                max-height: none;
                font-size: 0.85rem !important;
                white-space: normal;
                overflow: visible;
                text-overflow: clip;
                text-shadow: 
                    -1px -1px 0 #000,  
                    1px -1px 0 #000,
                    -1px 1px 0 #000,
                    1px 1px 0 #000,
                    0 0 2px rgba(0, 0, 0, 0.8);
            }
            
            .subtitle-container {
                bottom: 3px;
                padding: 0 8px;
                gap: 1px;
                max-height: 35%;
            }
            
            .upload-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }

        /* ÂìçÂ∫îÂºèËÆæËÆ° - Ë∂ÖÂ∞èÂ±èÂπï */
        @media (max-width: 360px) {
            :root {
                --subtitle-size-base: 0.75rem;
                --subtitle-size-eng: 0.85rem;
                --subtitle-size-chi: 0.75rem;
            }
            
            .english {
                font-size: 0.85rem !important;
                order: 1 !important;
            }
            
            .chinese {
                font-size: 0.75rem !important;
                order: 2 !important;
            }
            
            .subtitle {
                max-width: 95%;
                padding: 2px 5px;
                line-height: 1.2;
                max-height: none;
                font-size: 0.75rem !important;
                white-space: normal;
                overflow: visible;
                text-overflow: clip;
                text-shadow: 
                    -1px -1px 0 #000,  
                    1px -1px 0 #000,
                    -1px 1px 0 #000,
                    1px 1px 0 #000,
                    0 0 2px rgba(0, 0, 0, 0.8);
            }
            
            .subtitle-container {
                bottom: 3px;
                gap: 1px;
                padding: 0 5px;
                max-height: 30%;
            }
        }

        /* iOSÂíåÂÆâÂçìËÆæÂ§áÁªü‰∏ÄÂ≠óÂπïÂ§ßÂ∞è */
        @media (max-width: 480px) {
            /* Á°Æ‰øùiOSÂíåÂÆâÂçìËÆæÂ§á‰ΩøÁî®Áõ∏ÂêåÁöÑÂ≠óÂπïÂ§ßÂ∞è */
            .english {
                font-size: 15px !important;
                order: 1 !important;
            }
            
            .chinese {
                font-size: 14px !important;
                order: 2 !important;
            }
            
            .subtitle {
                font-size: 14px !important;
            }
        }
        
        @media (max-width: 360px) {
            /* Ë∂ÖÂ∞èÂ±èÂπïÁªü‰∏ÄÂ≠óÂπïÂ§ßÂ∞è */
            .english {
                font-size: 14px !important;
                order: 1 !important;
            }
            
            .chinese {
                font-size: 12px !important;
                order: 2 !important;
            }
            
            .subtitle {
                font-size: 12px !important;
            }
        }

        /* Ê®™Â±èÊ®°Âºè‰ºòÂåñ */
        @media (orientation: landscape) and (max-height: 500px) {
            :root {
                --subtitle-size-base: 1rem;
                --subtitle-size-eng: 1.1rem;
                --subtitle-size-chi: 1rem;
            }
            
            .english {
                font-size: calc(1.1rem + 2px) !important;
                order: 1 !important;
            }
            
            .chinese {
                font-size: 1rem !important;
                order: 2 !important;
            }
            
            .subtitle-container {
                bottom: 3px;
                gap: 1px;
                max-height: 25%;
            }
            
            .subtitle {
                padding: 2px 6px;
                line-height: 1.2;
                max-height: 30px;
                font-size: 1rem !important;
                white-space: normal;
                overflow: hidden;
                text-overflow: ellipsis;
                max-width: 95%;
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .btn-active {
            animation: pulse 0.5s ease;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary);
        }

        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100px;
            background: linear-gradient(45deg, rgba(67, 97, 238, 0.1), rgba(76, 201, 240, 0.1));
            opacity: 0.4;
            z-index: -1;
        }
        
        .preview-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }
        
        .preview-title {
            font-size: 1rem;
            color: var(--accent);
            text-align: center;
        }
        
        .preview-filename {
            font-size: 0.9rem;
            text-align: center;
            color: var(--light);
            word-break: break-all;
            padding: 5px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--accent);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .page-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a2a6c, #2a3c6c, #3a4c6c);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            color: white;
            font-family: 'Roboto', sans-serif;
        }
        
        .page-loading.hidden {
            display: none;
        }
        
        .loading-text {
            margin-top: 20px;
            font-size: 1.2rem;
            color: var(--accent);
        }
        

    </style>
</head>
<body>
    <!-- È°µÈù¢Âä†ËΩΩÊåáÁ§∫Âô® -->
    <div class="page-loading" id="pageLoading">
        <div class="loading"></div>
        <div class="loading-text">LiLiÂΩ±Â≠êË∑üËØªÂÆåÁæéÁâà Ê≠£Âú®Âä†ËΩΩ...</div>
    </div>
    
    <div class="wave"></div>
    
    <!-- ÁΩëÁªúÁä∂ÊÄÅÊåáÁ§∫Âô® -->
    <div class="network-status" id="networkStatus">ÁΩëÁªúÊ£ÄÊµã‰∏≠...</div>
    

    
    <!-- ÂçïËØçÈáä‰πâÂºπÁ™ó -->
    <div class="word-popup" id="wordPopup">
        <div class="word-popup-header">
            <div class="word-popup-word" id="popupWord">word</div>
            <button class="word-popup-close" id="popupClose">&times;</button>
        </div>
        <div class="word-popup-phonetic" id="popupPhonetic">/w…úÀêd/</div>
        <div class="word-popup-meaning" id="popupMeaning">Èáä‰πâÂä†ËΩΩ‰∏≠...</div>
        <div class="word-popup-exam-tags" id="popupExamTags"></div>
        <div class="word-popup-example" id="popupExample" style="display: none;">
            <div class="word-popup-example-title">‰æãÂè•Ôºö</div>
            <div id="popupExampleText"></div>
        </div>
    </div>

    <!-- ÂÄçÈÄüÈÄâÊã©ÂºπÁ™ó -->
    <div class="speed-popup" id="speedPopup">
        <div class="speed-popup-header">
            <div class="speed-popup-title">ÈÄâÊã©Êí≠ÊîæÈÄüÂ∫¶</div>
            <button class="speed-popup-close" id="speedPopupClose">&times;</button>
        </div>
        <div class="speed-popup-content">
            <button class="speed-popup-btn" data-speed="0.25">0.25x</button>
            <button class="speed-popup-btn" data-speed="0.5">0.5x</button>
            <button class="speed-popup-btn" data-speed="0.75">0.75x</button>
            <button class="speed-popup-btn active" data-speed="1">1x</button>
            <button class="speed-popup-btn" data-speed="1.25">1.25x</button>
        </div>
    </div>

    <div class="container">
        <header>
            <h1>LiLiÂΩ±Â≠êË∑üËØªÂÆåÁæéÁâà</h1>
            <div class="tagline">‰∏ì‰∏öÁ∫ßËØ≠Ë®ÄÂ≠¶‰π†Â∑•ÂÖ∑ - ÊèêÂçáÂè£ËØ≠ÊµÅÂà©Â∫¶</div>
        </header>
        
        <div class="main-content">
            <div class="video-container">
                <video class="video-player" id="videoPlayer" playsinline>
                    <!-- ÁßªÈô§ÈªòËÆ§ËßÜÈ¢ëÊ∫êÔºåÈÅøÂÖçÂä†ËΩΩÂ§±Ë¥• -->
                    ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅËßÜÈ¢ëÊí≠Êîæ
                </video>
                
                <div class="subtitle-container" id="subtitleContainer">
                    <div class="subtitle english" id="englishSub" style="order: 1 !important;">Welcome to LiLi Shadowing Perfect</div>
                    <div class="subtitle chinese" id="chineseSub" style="order: 2 !important;">Ê¨¢Ëøé‰ΩøÁî®LiLiÂΩ±Â≠êË∑üËØªÂÆåÁæéÁâà</div>
                </div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <div class="controls">
                <div class="primary-controls">
                    <button class="btn" id="prevBtn" title="‰∏ä‰∏ÄÂè•">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button class="btn btn-large" id="playPauseBtn" title="Êí≠Êîæ/ÊöÇÂÅú">
                        <i class="fas fa-play"></i>
                    </button>
                    <button class="btn" id="nextBtn" title="‰∏ã‰∏ÄÂè•">
                        <i class="fas fa-step-forward"></i>
                    </button>
                </div>
                
                <div class="secondary-controls">
                    <div class="control-group">
                        <button class="btn toggle-btn" id="loopBtn" title="ÂçïÂè•Âæ™ÁéØ">
                            <i class="fas fa-repeat"></i>
                        </button>
                        <div class="counter" id="loopCounter">Âæ™ÁéØ: 0</div>
                    </div>
                    
                    <div class="control-group">
                        <button class="btn toggle-btn" id="subtitleBtn" title="Â≠óÂπïÂºÄÂÖ≥">
                            <i class="fas fa-closed-captioning"></i>
                        </button>
                        <div>Â≠óÂπï</div>
                    </div>
                    
                    <div class="control-group">
                        <div>ÂÄçÈÄü:</div>
                        <div class="speed-control">
                            <button class="speed-btn" data-speed="0.25">0.25x</button>
                            <button class="speed-btn" data-speed="0.5">0.5x</button>
                            <button class="speed-btn" data-speed="0.75">0.75x</button>
                            <button class="speed-btn active" data-speed="1">1x</button>
                            <button class="speed-btn" data-speed="1.25">1.25x</button>
                        </div>
                        <!-- ÊâãÊú∫Á´ØÂÄçÈÄüÂºπÁ™óÊåâÈíÆ -->
                        <button class="mobile-speed-btn" id="mobileSpeedBtn" title="ÈÄâÊã©ÂÄçÈÄü">
                            <i class="fas fa-tachometer-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="file-upload">
                <div class="upload-title">‰∏ä‰º†Â≠¶‰π†ÊùêÊñô</div>
                <div class="upload-options">
                    <div class="upload-btn" id="videoUploadBtn">
                        <i class="fas fa-video"></i> ‰∏ä‰º†ËßÜÈ¢ë
                        <input type="file" class="file-input" id="videoUpload" accept="video/*,.mp4,.avi,.mov,.wmv,.flv,.webm,.m4v,.3gp">
                    </div>
                    <div class="upload-btn" id="subtitleUploadBtn">
                        <i class="fas fa-closed-captioning"></i> ‰∏ä‰º†Â≠óÂπï
                        <input type="file" class="file-input" id="subtitleUpload" accept="*/*">
                    </div>
                </div>
                
                <!-- Â§áÁî®Êñá‰ª∂ÈÄâÊã©Âô®ÔºàÈöêËóèÔºâ -->
                <div style="display: none;">
                    <input type="file" id="backupVideoUpload" accept="video/*,.mp4,.avi,.mov,.wmv,.flv,.webm,.m4v,.3gp">
                    <input type="file" id="backupSubtitleUpload" accept="*/*">
                </div>
                

                
                <div class="preview-container">
                    <div class="preview-title">Â∑≤‰∏ä‰º†Êñá‰ª∂</div>
                    <div class="preview-filename" id="videoFilename">Êú™ÈÄâÊã©ËßÜÈ¢ëÊñá‰ª∂</div>
                    <div class="preview-filename" id="subtitleFilename">Êú™ÈÄâÊã©Â≠óÂπïÊñá‰ª∂</div>
                </div>
                
                <div class="status" id="statusMessage">ËØ∑‰∏ä‰º†ËßÜÈ¢ëÂíåÂ≠óÂπïÊñá‰ª∂ÂºÄÂßãÂ≠¶‰π†</div>
                

            </div>
        </div>
    </div>

    <script>
        // È°µÈù¢Âä†ËΩΩÁä∂ÊÄÅÊ£ÄÊü•
        console.log('LiLiÂΩ±Â≠êË∑üËØªÂÆåÁæéÁâà - È°µÈù¢ÂºÄÂßãÂä†ËΩΩ');
        
        // ÂÖ®Â±ÄÈîôËØØÂ§ÑÁêÜ
        window.addEventListener('error', function(e) {
            console.error('ÂÖ®Â±ÄÈîôËØØ:', e.error);
        });
        
        window.addEventListener('unhandledrejection', function(e) {
            console.error('Êú™Â§ÑÁêÜÁöÑPromiseÊãíÁªù:', e.reason);
        });
        
        // Á°Æ‰øùÈ°µÈù¢ÂÆåÂÖ®Âä†ËΩΩ
        window.addEventListener('load', function() {
            console.log('LiLiÂΩ±Â≠êË∑üËØªÂÆåÁæéÁâà - È°µÈù¢ÂÆåÂÖ®Âä†ËΩΩÂÆåÊàê');
        });
        
        // Ë∂ÖÊó∂‰øùÊä§ - 5ÁßíÂêéÂº∫Âà∂ÈöêËóèÂä†ËΩΩÊåáÁ§∫Âô®
        setTimeout(function() {
            const pageLoading = document.getElementById('pageLoading');
            if (pageLoading && !pageLoading.classList.contains('hidden')) {
                console.log('È°µÈù¢Âä†ËΩΩË∂ÖÊó∂ÔºåÂº∫Âà∂ÊòæÁ§∫ÂÜÖÂÆπ');
                pageLoading.classList.add('hidden');
            }
        }, 5000);
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('LiLiÂΩ±Â≠êË∑üËØªÂÆåÁæéÁâà - DOMÂä†ËΩΩÂÆåÊàê');
            
            // ÁΩëÁªúÁä∂ÊÄÅÊ£ÄÊµãÂíåÂ§áÁî®ÊñπÊ°à
            const networkStatus = document.getElementById('networkStatus');
            
            function updateNetworkStatus(status, message) {
                networkStatus.className = 'network-status ' + status;
                networkStatus.textContent = message;
            }
            
            function checkNetworkAndApplyFallbacks() {
                // Ê£ÄÊµãFontAwesomeÊòØÂê¶Âä†ËΩΩÊàêÂäü
                const testIcon = document.createElement('i');
                testIcon.className = 'fas fa-play';
                testIcon.style.position = 'absolute';
                testIcon.style.left = '-9999px';
                document.body.appendChild(testIcon);
                
                const iconWidth = testIcon.offsetWidth;
                document.body.removeChild(testIcon);
                
                let fallbackApplied = false;
                
                // Â¶ÇÊûúÂõæÊ†áÂÆΩÂ∫¶‰∏∫0ÔºåËØ¥ÊòéFontAwesomeÊú™Âä†ËΩΩÔºåÂ∫îÁî®Â§áÁî®ÂõæÊ†á
                if (iconWidth === 0) {
                    console.log('FontAwesomeÊú™Âä†ËΩΩÔºåÂ∫îÁî®Â§áÁî®ÂõæÊ†á');
                    document.body.classList.add('fallback-icons');
                    fallbackApplied = true;
                }
                
                // Ê£ÄÊµãGoogle FontsÊòØÂê¶Âä†ËΩΩÊàêÂäü
                const testFont = document.createElement('span');
                testFont.style.fontFamily = 'Roboto, sans-serif';
                testFont.style.position = 'absolute';
                testFont.style.left = '-9999px';
                testFont.textContent = 'Test';
                document.body.appendChild(testFont);
                
                const originalWidth = testFont.offsetWidth;
                testFont.style.fontFamily = 'Arial, sans-serif';
                const fallbackWidth = testFont.offsetWidth;
                document.body.removeChild(testFont);
                
                // Â¶ÇÊûúÂ≠ó‰ΩìÂÆΩÂ∫¶Áõ∏ÂêåÔºåËØ¥ÊòéGoogle FontsÊú™Âä†ËΩΩ
                if (Math.abs(originalWidth - fallbackWidth) < 2) {
                    console.log('Google FontsÊú™Âä†ËΩΩÔºå‰ΩøÁî®Á≥ªÁªüÂ≠ó‰Ωì');
                    document.body.classList.add('fallback-fonts');
                    fallbackApplied = true;
                }
                
                // Ê£ÄÊµãÁΩëÁªúËøûÊé•ÈÄüÂ∫¶
                const startTime = performance.now();
                fetch('https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css', { 
                    method: 'HEAD',
                    cache: 'no-cache'
                }).then(() => {
                    const loadTime = performance.now() - startTime;
                    if (loadTime > 3000) {
                        console.log('ÁΩëÁªúËæÉÊÖ¢ÔºåÂ∫îÁî®‰ºòÂåñ');
                        fallbackApplied = true;
                    }
                }).catch(() => {
                    console.log('ÁΩëÁªúËøûÊé•Â§±Ë¥•Ôºå‰ΩøÁî®Êú¨Âú∞ËµÑÊ∫ê');
                    fallbackApplied = true;
                });
                
                // Êõ¥Êñ∞ÁΩëÁªúÁä∂ÊÄÅÊòæÁ§∫
                if (fallbackApplied) {
                    updateNetworkStatus('fallback', '‰ΩøÁî®Êú¨Âú∞ËµÑÊ∫ê');
                } else {
                    updateNetworkStatus('online', 'ÁΩëÁªúÊ≠£Â∏∏');
                }
                
                // 3ÁßíÂêéÈöêËóèÁä∂ÊÄÅÊåáÁ§∫Âô®
                setTimeout(() => {
                    networkStatus.style.opacity = '0';
                    setTimeout(() => {
                        networkStatus.style.display = 'none';
                    }, 300);
                }, 3000);
            }
            
                    // Âª∂ËøüÊ£ÄÊµãÔºåÁªôÂ§ñÈÉ®ËµÑÊ∫ê‰∏Ä‰∫õÂä†ËΩΩÊó∂Èó¥
        setTimeout(checkNetworkAndApplyFallbacks, 1500);
        
        // Ê∑ªÂä†ÁΩëÁªú‰ºòÂåñ
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js').catch(() => {
                console.log('Service Worker Ê≥®ÂÜåÂ§±Ë¥•Ôºå‰ΩøÁî®Â§áÁî®ÊñπÊ°à');
            });
        }
            
            // Ëé∑ÂèñDOMÂÖÉÁ¥†
            const videoPlayer = document.getElementById('videoPlayer');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const loopBtn = document.getElementById('loopBtn');
            const subtitleBtn = document.getElementById('subtitleBtn');
            const loopCounter = document.getElementById('loopCounter');
            const subtitleContainer = document.getElementById('subtitleContainer');
            const englishSub = document.getElementById('englishSub');
            const chineseSub = document.getElementById('chineseSub');
            const statusMessage = document.getElementById('statusMessage');
            const speedBtns = document.querySelectorAll('.speed-btn');
            const progressBar = document.getElementById('progressBar');
            const videoUpload = document.getElementById('videoUpload');
            const subtitleUpload = document.getElementById('subtitleUpload');
            const videoFilename = document.getElementById('videoFilename');
            const subtitleFilename = document.getElementById('subtitleFilename');
            
            // ÂçïËØçÊü•ËØ¢Áõ∏ÂÖ≥DOMÂÖÉÁ¥†
            const wordPopup = document.getElementById('wordPopup');
            const popupWord = document.getElementById('popupWord');
            const popupPhonetic = document.getElementById('popupPhonetic');
            const popupMeaning = document.getElementById('popupMeaning');
            const popupExamTags = document.getElementById('popupExamTags');
            const popupExample = document.getElementById('popupExample');
            const popupExampleText = document.getElementById('popupExampleText');
            const popupClose = document.getElementById('popupClose');
            
            // Â≠óÂπïÊï∞ÊçÆ
            let subtitles = [];
            let currentSubIndex = 0;
            let loopCount = 0;
            let isLooping = false;
            let subtitlesEnabled = true;
            let currentLoopStart = 0;
            let currentLoopEnd = 0;
            
            // ÂçïËØçÊü•ËØ¢Êï∞ÊçÆ
            let wordDictionary = {};
            let examWordLists = {
                cet4: new Set(),
                cet6: new Set(),
                cet8: new Set(),
                ielts: new Set(),
                toefl: new Set(),
                gre: new Set(),
                gaokao: new Set(),
                kaoyan: new Set()
            };
            
            // ÂçïËØçÂºπÁ™óÁä∂ÊÄÅ
            let currentClickedWord = null;
            let popupTimeout = null;
            
            // Âä®ÊÄÅË∞ÉÊï¥Â≠óÂπïÂ§ßÂ∞è
            function adjustSubtitleSize() {
                const container = document.querySelector('.video-container');
                const englishSub = document.getElementById('englishSub');
                const chineseSub = document.getElementById('chineseSub');
                
                if (!container || !englishSub || !chineseSub) return;
                
                const containerWidth = container.offsetWidth;
                const containerHeight = container.offsetHeight;
                
                // Ê†πÊçÆÂÆπÂô®Â§ßÂ∞èÂä®ÊÄÅË∞ÉÊï¥Â≠ó‰ΩìÂ§ßÂ∞è - ÊâÄÊúâÂ∞∫ÂØ∏ÈÉΩÂ¢ûÂä†2px
                let baseSize, engSize, chiSize;
                
                if (containerWidth >= 1200) {
                    // Â§ßÂ±èÂπï
                    baseSize = Math.min(containerWidth * 0.015, 1.6);
                    engSize = Math.min(containerWidth * 0.016, 1.7);
                    chiSize = Math.min(containerWidth * 0.015, 1.6);
                } else if (containerWidth >= 768) {
                    // ‰∏≠Á≠âÂ±èÂπï
                    baseSize = Math.min(containerWidth * 0.018, 1.5);
                    engSize = Math.min(containerWidth * 0.019, 1.6);
                    chiSize = Math.min(containerWidth * 0.018, 1.5);
                } else if (containerWidth >= 480) {
                    // Âπ≥Êùø
                    baseSize = Math.min(containerWidth * 0.02, 1.3);
                    engSize = Math.min(containerWidth * 0.021, 1.4);
                    chiSize = Math.min(containerWidth * 0.02, 1.3);
                } else if (containerWidth >= 360) {
                    // ÊâãÊú∫
                    baseSize = Math.min(containerWidth * 0.022, 0.375);
                    engSize = Math.min(containerWidth * 0.023, 0.375);
                    chiSize = Math.min(containerWidth * 0.022, 0.375);
                } else {
                    // Ë∂ÖÂ∞èÂ±èÂπï
                    baseSize = Math.min(containerWidth * 0.025, 0.375);
                    engSize = Math.min(containerWidth * 0.026, 0.375);
                    chiSize = Math.min(containerWidth * 0.025, 0.375);
                }
                
                // Ê®™Â±èÊ®°ÂºèÁâπÊÆäÂ§ÑÁêÜ
                if (window.innerHeight < window.innerWidth && window.innerHeight < 500) {
                    baseSize *= 0.7;
                    engSize *= 0.7;
                    chiSize *= 0.7;
                }
                
                // Â∫îÁî®Â≠ó‰ΩìÂ§ßÂ∞è - Ëã±ÊñáÂ≠óÂπïÊØî‰∏≠ÊñáÂ≠óÂπïÂ§ß2px
                document.documentElement.style.setProperty('--subtitle-size-base', baseSize + 'rem');
                document.documentElement.style.setProperty('--subtitle-size-eng', engSize + 'rem');
                document.documentElement.style.setProperty('--subtitle-size-chi', chiSize + 'rem');
                
                // Áõ¥Êé•ËÆæÁΩÆËã±ÊñáÂ≠óÂπïÂ≠ó‰ΩìÂ§ßÂ∞èÔºåÁ°Æ‰øùÊØî‰∏≠ÊñáÂ≠óÂπïÂ§ß2px
                let engSizePx, chiSizePx;
                
                // ÊâãÊú∫Á´ØÁâπÊÆäÂ§ÑÁêÜÔºå‰ΩøÁî®ÂêàÈÄÇÁöÑÂ≠ó‰ΩìÂ§ßÂ∞èÔºàÁªü‰∏ÄiOSÂíåÂÆâÂçìÔºâ
                if (containerWidth <= 480) {
                    engSizePx = 15; // Á∫¶0.95remÔºåÂáèÂ∞è1.5px
                    chiSizePx = 14; // Á∫¶0.85remÔºåÂáèÂ∞è1.5px
                } else if (containerWidth <= 360) {
                    engSizePx = 14; // Á∫¶0.85remÔºåÂáèÂ∞è1.5px
                    chiSizePx = 12; // Á∫¶0.75remÔºåÂáèÂ∞è1.5px
                } else {
                    engSizePx = parseFloat(engSize) * 16 + 2; // ËΩ¨Êç¢‰∏∫pxÂπ∂Âä†2px
                    chiSizePx = parseFloat(chiSize) * 16;
                }
                
                englishSub.style.fontSize = engSizePx + 'px';
                chineseSub.style.fontSize = chiSizePx + 'px';
                
                // Ë∞ÉÊï¥Â≠óÂπïÂÆπÂô®ÁöÑÊúÄÂ§ßÂÆΩÂ∫¶ - Á°Æ‰øùÂÆåÊï¥ÊòæÁ§∫‰∏î‰∏çË∂ÖÂá∫ËæπÁïå
                const maxWidth = Math.min(containerWidth * 0.95, 95);
                englishSub.style.maxWidth = maxWidth + '%';
                chineseSub.style.maxWidth = maxWidth + '%';
                
                // Á°Æ‰øùÂ≠óÂπïÂÆπÂô®‰∏ç‰ºöË∂ÖÂá∫ËßÜÈ¢ëÂÆπÂô®ËæπÁïå
                const subtitleContainer = document.getElementById('subtitleContainer');
                if (subtitleContainer) {
                                    // Ê†πÊçÆÂ±èÂπïÂ§ßÂ∞èËÆæÁΩÆÊúÄÂ§ßÈ´òÂ∫¶
                if (containerWidth <= 360) {
                    subtitleContainer.style.maxHeight = '30%';
                } else if (containerWidth <= 480) {
                    subtitleContainer.style.maxHeight = '35%';
                } else if (containerWidth <= 768) {
                    subtitleContainer.style.maxHeight = '25%';
                } else {
                    subtitleContainer.style.maxHeight = '30%';
                }
                    
                    // Á°Æ‰øùÂ≠óÂπïÂÆπÂô®ÂßãÁªàÂú®ËßÜÈ¢ëÂÆπÂô®ÂÜÖ
                    subtitleContainer.style.left = '0';
                    subtitleContainer.style.right = '0';
                    subtitleContainer.style.bottom = '3px';
                }
            }
            
            // ÁõëÂê¨Á™óÂè£Â§ßÂ∞èÂèòÂåñ
            let resizeTimeout;
            window.addEventListener('resize', function() {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    adjustSubtitleSize();
                    ensureSubtitleBoundaries();
                }, 100);
            });
            
            // ÁõëÂê¨Â±èÂπïÊñπÂêëÂèòÂåñ
            window.addEventListener('orientationchange', function() {
                setTimeout(() => {
                    adjustSubtitleSize();
                    ensureSubtitleBoundaries();
                }, 300);
            });
            
            // ÂàùÂßãÂåñÈ°µÈù¢
            function initializePage() {
                console.log('ÂºÄÂßãÂàùÂßãÂåñÈ°µÈù¢...');
                
                // Ê£ÄÊü•ÊâÄÊúâÂøÖË¶ÅÁöÑDOMÂÖÉÁ¥†ÊòØÂê¶Â≠òÂú®
                const requiredElements = [
                    'videoPlayer', 'playPauseBtn', 'prevBtn', 'nextBtn', 
                    'loopBtn', 'subtitleBtn', 'loopCounter', 'subtitleContainer',
                    'englishSub', 'chineseSub', 'statusMessage', 'progressBar',
                    'videoUpload', 'subtitleUpload', 'videoFilename', 'subtitleFilename'
                ];
                
                const missingElements = [];
                requiredElements.forEach(id => {
                    if (!document.getElementById(id)) {
                        missingElements.push(id);
                    }
                });
                
                if (missingElements.length > 0) {
                    console.error('Áº∫Â∞ëÂøÖË¶ÅÁöÑDOMÂÖÉÁ¥†:', missingElements);
                    document.body.innerHTML = '<div style="text-align: center; padding: 50px; color: white;">È°µÈù¢Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑Âà∑Êñ∞ÈáçËØï</div>';
                    return;
                }
                
                console.log('ÊâÄÊúâDOMÂÖÉÁ¥†Ê£ÄÊü•ÂÆåÊàê');
                
                // ËÆæÁΩÆÂàùÂßãÁä∂ÊÄÅ
                statusMessage.textContent = "ËØ∑‰∏ä‰º†ËßÜÈ¢ëÂíåÂ≠óÂπïÊñá‰ª∂ÂºÄÂßãÂ≠¶‰π†";
                videoFilename.textContent = "Êú™ÈÄâÊã©ËßÜÈ¢ëÊñá‰ª∂";
                subtitleFilename.textContent = "Êú™ÈÄâÊã©Â≠óÂπïÊñá‰ª∂";
                
                // ÂàùÂßãÂåñÂ≠óÂπïÊòæÁ§∫
                updateSubtitles();
                
                // ÂàùÂßãÂåñÂ≠óÂπïÂ§ßÂ∞è
                adjustSubtitleSize();
                ensureSubtitleBoundaries();
                
                // Ê∑ªÂä†ÈîôËØØÂ§ÑÁêÜ
                videoPlayer.addEventListener('error', function(e) {
                    console.error('ËßÜÈ¢ëÂä†ËΩΩÈîôËØØ:', e);
                    statusMessage.textContent = "ËßÜÈ¢ëÂä†ËΩΩÂ§±Ë¥•ÔºåËØ∑ÈáçÊñ∞‰∏ä‰º†";
                });
                
                // Ê∑ªÂä†ÁΩëÁªúÁä∂ÊÄÅÊ£ÄÊµã
                window.addEventListener('online', function() {
                    statusMessage.textContent = "ÁΩëÁªúËøûÊé•Â∑≤ÊÅ¢Â§ç";
                    updateNetworkStatus('online', 'ÁΩëÁªúÂ∑≤ÊÅ¢Â§ç');
                });
                
                window.addEventListener('offline', function() {
                    statusMessage.textContent = "ÁΩëÁªúËøûÊé•Â∑≤Êñ≠ÂºÄ";
                    updateNetworkStatus('offline', 'ÁΩëÁªúÂ∑≤Êñ≠ÂºÄ');
                });
                
                console.log('È°µÈù¢ÂàùÂßãÂåñÂÆåÊàê');
                
                // ÈöêËóèÂä†ËΩΩÊåáÁ§∫Âô®
                const pageLoading = document.getElementById('pageLoading');
                if (pageLoading) {
                    pageLoading.classList.add('hidden');
                }
            }
            
            // Ë∞ÉÁî®ÂàùÂßãÂåñÂáΩÊï∞
            initializePage();
            
            // ÂàùÂßãÂåñÂçïËØçÊü•ËØ¢ÂäüËÉΩ
            initializeWordQuery();
            
            // Á°Æ‰øùÂú®È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÈáçÊñ∞ÁªëÂÆöÂçïËØçÁÇπÂáª‰∫ã‰ª∂
            setTimeout(() => {
                if (englishSub.textContent) {
                    makeWordsClickable(englishSub);
                    console.log('È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÈáçÊñ∞ÁªëÂÆöÂçïËØçÁÇπÂáª‰∫ã‰ª∂');
                }
            }, 1000);
            
            // Ê∑ªÂä†ÁßªÂä®Á´ØËß¶Êë∏‰∫ã‰ª∂ÊîØÊåÅ
            function addMobileSupport() {
                // ‰∏∫Êñá‰ª∂‰∏ä‰º†ÊåâÈíÆÊ∑ªÂä†Ëß¶Êë∏‰∫ã‰ª∂
                const videoUploadBtn = document.getElementById('videoUploadBtn');
                const subtitleUploadBtn = document.getElementById('subtitleUploadBtn');
                const videoUpload = document.getElementById('videoUpload');
                const subtitleUpload = document.getElementById('subtitleUpload');
                
                // Ê£ÄÊµãÊòØÂê¶‰∏∫ÁßªÂä®ËÆæÂ§á
                const isMobile = /Android|iPhone|iPad|iPod|Mobile|Tablet/.test(navigator.userAgent);
                
                console.log('ËÆæÂ§áÊ£ÄÊµã - ÁßªÂä®ËÆæÂ§á:', isMobile, 'User Agent:', navigator.userAgent);
                
                if (videoUploadBtn && videoUpload) {
                    // ÁßªÈô§ÂèØËÉΩÂÜ≤Á™ÅÁöÑ‰∫ã‰ª∂ÁõëÂê¨Âô®
                    videoUploadBtn.replaceWith(videoUploadBtn.cloneNode(true));
                    const newVideoUploadBtn = document.getElementById('videoUploadBtn');
                    
                    newVideoUploadBtn.addEventListener('touchstart', function(e) {
                        e.preventDefault();
                        this.style.transform = 'scale(0.95)';
                        this.style.backgroundColor = 'rgba(76, 201, 240, 0.5)';
                    }, { passive: false });
                    
                    newVideoUploadBtn.addEventListener('touchend', function(e) {
                        e.preventDefault();
                        this.style.transform = 'scale(1)';
                        this.style.backgroundColor = '';
                        
                        // Âª∂ËøüËß¶ÂèëÊñá‰ª∂ÈÄâÊã©ÔºåÁ°Æ‰øùËß¶Êë∏‰∫ã‰ª∂ÂÆåÂÖ®ÁªìÊùü
                        setTimeout(() => {
                            try {
                                videoUpload.click();
                                console.log('ËßÜÈ¢ëÊñá‰ª∂ÈÄâÊã©Âô®Â∑≤Ëß¶Âèë');
                            } catch (error) {
                                console.error('ËßÜÈ¢ëÊñá‰ª∂ÈÄâÊã©Âô®Ëß¶ÂèëÂ§±Ë¥•:', error);
                                statusMessage.textContent = "Êñá‰ª∂ÈÄâÊã©Âô®ÊâìÂºÄÂ§±Ë¥•ÔºåËØ∑ÈáçËØï";
                            }
                        }, 100);
                    }, { passive: false });
                    
                    // Ê∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂‰Ωú‰∏∫Â§áÁî®
                    newVideoUploadBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        try {
                            videoUpload.click();
                            console.log('ËßÜÈ¢ëÊñá‰ª∂ÈÄâÊã©Âô®Â∑≤Ëß¶ÂèëÔºàÁÇπÂáªÔºâ');
                        } catch (error) {
                            console.error('ËßÜÈ¢ëÊñá‰ª∂ÈÄâÊã©Âô®Ëß¶ÂèëÂ§±Ë¥•ÔºàÁÇπÂáªÔºâ:', error);
                            statusMessage.textContent = "Êñá‰ª∂ÈÄâÊã©Âô®ÊâìÂºÄÂ§±Ë¥•ÔºåËØ∑ÈáçËØï";
                        }
                    });
                }
                
                if (subtitleUploadBtn && subtitleUpload) {
                    // ÁßªÈô§ÂèØËÉΩÂÜ≤Á™ÅÁöÑ‰∫ã‰ª∂ÁõëÂê¨Âô®
                    subtitleUploadBtn.replaceWith(subtitleUploadBtn.cloneNode(true));
                    const newSubtitleUploadBtn = document.getElementById('subtitleUploadBtn');
                    
                    newSubtitleUploadBtn.addEventListener('touchstart', function(e) {
                        e.preventDefault();
                        this.style.transform = 'scale(0.95)';
                        this.style.backgroundColor = 'rgba(76, 201, 240, 0.5)';
                    }, { passive: false });
                    
                    newSubtitleUploadBtn.addEventListener('touchend', function(e) {
                        e.preventDefault();
                        this.style.transform = 'scale(1)';
                        this.style.backgroundColor = '';
                        
                        // Âª∂ËøüËß¶ÂèëÊñá‰ª∂ÈÄâÊã©ÔºåÁ°Æ‰øùËß¶Êë∏‰∫ã‰ª∂ÂÆåÂÖ®ÁªìÊùü
                        setTimeout(() => {
                            try {
                                subtitleUpload.click();
                                console.log('Â≠óÂπïÊñá‰ª∂ÈÄâÊã©Âô®Â∑≤Ëß¶Âèë');
                                statusMessage.textContent = "Ê≠£Âú®ÊâìÂºÄÊñá‰ª∂ÈÄâÊã©Âô®...";
                            } catch (error) {
                                console.error('Â≠óÂπïÊñá‰ª∂ÈÄâÊã©Âô®Ëß¶ÂèëÂ§±Ë¥•:', error);
                                statusMessage.textContent = "Êñá‰ª∂ÈÄâÊã©Âô®ÊâìÂºÄÂ§±Ë¥•ÔºåËØ∑ÈáçËØï";
                            }
                        }, 100);
                    }, { passive: false });
                    
                    // Ê∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂‰Ωú‰∏∫Â§áÁî®
                    newSubtitleUploadBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        try {
                            subtitleUpload.click();
                            console.log('Â≠óÂπïÊñá‰ª∂ÈÄâÊã©Âô®Â∑≤Ëß¶ÂèëÔºàÁÇπÂáªÔºâ');
                            statusMessage.textContent = "Ê≠£Âú®ÊâìÂºÄÊñá‰ª∂ÈÄâÊã©Âô®...";
                        } catch (error) {
                            console.error('Â≠óÂπïÊñá‰ª∂ÈÄâÊã©Âô®Ëß¶ÂèëÂ§±Ë¥•ÔºàÁÇπÂáªÔºâ:', error);
                            statusMessage.textContent = "Êñá‰ª∂ÈÄâÊã©Âô®ÊâìÂºÄÂ§±Ë¥•ÔºåËØ∑ÈáçËØï";
                        }
                    });
                }
                
                // ‰∏∫ÊéßÂà∂ÊåâÈíÆÊ∑ªÂä†Ëß¶Êë∏‰∫ã‰ª∂
                const buttons = document.querySelectorAll('.btn, .speed-btn');
                buttons.forEach(btn => {
                    btn.addEventListener('touchstart', function(e) {
                        e.preventDefault();
                        this.style.transform = 'scale(0.95)';
                    }, { passive: false });
                    
                    btn.addEventListener('touchend', function(e) {
                        e.preventDefault();
                        this.style.transform = 'scale(1)';
                        // Ëß¶ÂèëÁÇπÂáª‰∫ã‰ª∂
                        this.click();
                    }, { passive: false });
                });
                
                // ÁßªÂä®ËÆæÂ§áÁâπÊÆäÂ§ÑÁêÜ
                if (isMobile) {
                    console.log('Ê£ÄÊµãÂà∞ÁßªÂä®ËÆæÂ§áÔºåÂ∫îÁî®ÁâπÊÆäÂ§ÑÁêÜ');
                    
                    // ‰∏∫ÁßªÂä®ËÆæÂ§áÊ∑ªÂä†Êñá‰ª∂ÈÄâÊã©ÊîØÊåÅ
                    if (subtitleUpload) {
                        subtitleUpload.addEventListener('change', function(e) {
                            console.log('ÁßªÂä®ËÆæÂ§áÂ≠óÂπïÊñá‰ª∂ÈÄâÊã©‰∫ã‰ª∂Ëß¶Âèë');
                            if (e.target.files && e.target.files.length > 0) {
                                console.log('ÁßªÂä®ËÆæÂ§áÂ≠óÂπïÊñá‰ª∂Â∑≤ÈÄâÊã©:', e.target.files[0].name);
                                statusMessage.textContent = "Â≠óÂπïÊñá‰ª∂Â∑≤ÈÄâÊã©ÔºåÊ≠£Âú®Â§ÑÁêÜ...";
                            }
                        });
                    }
                    
                    if (videoUpload) {
                        videoUpload.addEventListener('change', function(e) {
                            console.log('ÁßªÂä®ËÆæÂ§áËßÜÈ¢ëÊñá‰ª∂ÈÄâÊã©‰∫ã‰ª∂Ëß¶Âèë');
                            if (e.target.files && e.target.files.length > 0) {
                                console.log('ÁßªÂä®ËÆæÂ§áËßÜÈ¢ëÊñá‰ª∂Â∑≤ÈÄâÊã©:', e.target.files[0].name);
                                statusMessage.textContent = "ËßÜÈ¢ëÊñá‰ª∂Â∑≤ÈÄâÊã©ÔºåÊ≠£Âú®Â§ÑÁêÜ...";
                            }
                        });
                    }
                }
            }
            
            // Ê∑ªÂä†ÁßªÂä®Á´ØÊîØÊåÅ
            addMobileSupport();
            
            // Êí≠Êîæ/ÊöÇÂÅúÊåâÈíÆ‰∫ã‰ª∂
            playPauseBtn.addEventListener('click', function() {
                if (videoPlayer.paused) {
                    // Ê£ÄÊü•ÊòØÂê¶ÊúâËßÜÈ¢ëÊ∫ê
                    if (!videoPlayer.src && !videoPlayer.currentSrc) {
                        statusMessage.textContent = "ËØ∑ÂÖà‰∏ä‰º†ËßÜÈ¢ëÊñá‰ª∂";
                        return;
                    }
                    
                    videoPlayer.play().then(() => {
                        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                        playPauseBtn.classList.add('btn-active');
                        statusMessage.textContent = "Êí≠Êîæ‰∏≠";
                    }).catch(error => {
                        console.error('Êí≠ÊîæÂ§±Ë¥•:', error);
                        statusMessage.textContent = "Êí≠ÊîæÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ËßÜÈ¢ëÊñá‰ª∂";
                    });
                } else {
                    videoPlayer.pause();
                    playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                    statusMessage.textContent = "Â∑≤ÊöÇÂÅú";
                }
            });
            
            // ‰∏ä‰∏ÄÂè•ÊåâÈíÆ‰∫ã‰ª∂
            prevBtn.addEventListener('click', function() {
                if (currentSubIndex > 0) {
                    currentSubIndex--;
                    jumpToSubtitle(currentSubIndex);
                    prevBtn.classList.add('btn-active');
                    setTimeout(() => prevBtn.classList.remove('btn-active'), 300);
                }
            });
            
            // ‰∏ã‰∏ÄÂè•ÊåâÈíÆ‰∫ã‰ª∂
            nextBtn.addEventListener('click', function() {
                if (currentSubIndex < subtitles.length - 1) {
                    currentSubIndex++;
                    jumpToSubtitle(currentSubIndex);
                    nextBtn.classList.add('btn-active');
                    setTimeout(() => nextBtn.classList.remove('btn-active'), 300);
                }
            });
            
            // ÂçïÂè•Âæ™ÁéØÊåâÈíÆ‰∫ã‰ª∂
            loopBtn.addEventListener('click', function() {
                isLooping = !isLooping;
                loopBtn.classList.toggle('active', isLooping);
                
                if (isLooping) {
                    // ËÆæÁΩÆÂΩìÂâçÂè•Â≠êÁöÑÂæ™ÁéØËµ∑ÂßãÁÇπ
                    if (subtitles.length > 0 && currentSubIndex < subtitles.length) {
                        currentLoopStart = subtitles[currentSubIndex].start;
                        currentLoopEnd = subtitles[currentSubIndex].end;
                    }
                    
                    loopBtn.classList.add('btn-active');
                    setTimeout(() => loopBtn.classList.remove('btn-active'), 300);
                    statusMessage.textContent = "ÂçïÂè•Âæ™ÁéØÂ∑≤ÂêØÁî®";
                } else {
                    statusMessage.textContent = "ÂçïÂè•Âæ™ÁéØÂ∑≤Á¶ÅÁî®";
                }
            });
            
            // Â≠óÂπïÂºÄÂÖ≥ÊåâÈíÆ‰∫ã‰ª∂
            subtitleBtn.addEventListener('click', function() {
                subtitlesEnabled = !subtitlesEnabled;
                subtitleBtn.classList.toggle('active', subtitlesEnabled);
                subtitleContainer.style.opacity = subtitlesEnabled ? '1' : '0';
                
                statusMessage.textContent = subtitlesEnabled ? "Â≠óÂπïÂ∑≤ÊòæÁ§∫" : "Â≠óÂπïÂ∑≤ÈöêËóè";
            });
            
            // ÂÄçÈÄüÊåâÈíÆ‰∫ã‰ª∂
            speedBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const speed = parseFloat(this.dataset.speed);
                    videoPlayer.playbackRate = speed;
                    
                    speedBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    statusMessage.textContent = `Êí≠ÊîæÈÄüÂ∫¶: ${speed}x`;
                });
            });
            
            // ÊâãÊú∫Á´ØÂÄçÈÄüÂºπÁ™óÂäüËÉΩ
            const mobileSpeedBtn = document.getElementById('mobileSpeedBtn');
            const speedPopup = document.getElementById('speedPopup');
            const speedPopupClose = document.getElementById('speedPopupClose');
            const speedPopupBtns = document.querySelectorAll('.speed-popup-btn');
            
            // ÊòæÁ§∫ÂÄçÈÄüÂºπÁ™ó
            if (mobileSpeedBtn) {
                mobileSpeedBtn.addEventListener('click', function() {
                    speedPopup.classList.add('show');
                    mobileSpeedBtn.classList.add('active');
                });
            }
            
            // ÂÖ≥Èó≠ÂÄçÈÄüÂºπÁ™ó
            if (speedPopupClose) {
                speedPopupClose.addEventListener('click', function() {
                    speedPopup.classList.remove('show');
                    mobileSpeedBtn.classList.remove('active');
                });
            }
            
            // ÁÇπÂáªÂºπÁ™óÂ§ñÈÉ®ÂÖ≥Èó≠
            document.addEventListener('click', function(e) {
                if (speedPopup && speedPopup.classList.contains('show') && 
                    !speedPopup.contains(e.target) && 
                    !mobileSpeedBtn.contains(e.target)) {
                    speedPopup.classList.remove('show');
                    mobileSpeedBtn.classList.remove('active');
                }
            });
            
            // ÂºπÁ™óÂÜÖÂÄçÈÄüÊåâÈíÆ‰∫ã‰ª∂
            speedPopupBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const speed = parseFloat(this.dataset.speed);
                    videoPlayer.playbackRate = speed;
                    
                    // Êõ¥Êñ∞ÊâÄÊúâÂÄçÈÄüÊåâÈíÆÁä∂ÊÄÅ
                    speedBtns.forEach(b => b.classList.remove('active'));
                    speedPopupBtns.forEach(b => b.classList.remove('active'));
                    
                    // ÊøÄÊ¥ªÂΩìÂâçÈÄâ‰∏≠ÁöÑÊåâÈíÆ
                    this.classList.add('active');
                    
                    // ÊâæÂà∞ÂØπÂ∫îÁöÑÊ°åÈù¢Á´ØÊåâÈíÆÂπ∂ÊøÄÊ¥ª
                    const desktopBtn = document.querySelector(`.speed-btn[data-speed="${speed}"]`);
                    if (desktopBtn) {
                        desktopBtn.classList.add('active');
                    }
                    
                    // ÂÖ≥Èó≠ÂºπÁ™ó
                    speedPopup.classList.remove('show');
                    mobileSpeedBtn.classList.remove('active');
                    
                    statusMessage.textContent = `Êí≠ÊîæÈÄüÂ∫¶: ${speed}x`;
                });
            });
            
            // ËßÜÈ¢ëÊó∂Èó¥Êõ¥Êñ∞‰∫ã‰ª∂
            videoPlayer.addEventListener('timeupdate', function() {
                const currentTime = videoPlayer.currentTime;
                const duration = videoPlayer.duration;
                
                // Êõ¥Êñ∞ËøõÂ∫¶Êù°
                if (duration > 0) {
                    const progressPercent = (currentTime / duration) * 100;
                    progressBar.style.width = `${progressPercent}%`;
                }
                
                // Ê£ÄÊü•ÊòØÂê¶Â∫îËØ•Âæ™ÁéØÂΩìÂâçÂè•Â≠ê
                if (isLooping && subtitles.length > 0) {
                    // Â¶ÇÊûúÂΩìÂâçÊó∂Èó¥Ë∂ÖËøáÂΩìÂâçÂæ™ÁéØÂè•Â≠êÁöÑÁªìÊùüÊó∂Èó¥ÔºåÂàôË∑≥ÂõûÂºÄÂßã
                    if (currentTime >= currentLoopEnd) {
                        loopCount++;
                        loopCounter.textContent = `Âæ™ÁéØ: ${loopCount}`;
                        videoPlayer.currentTime = currentLoopStart;
                        statusMessage.textContent = `ÂΩìÂâçÂè•Â≠êÂæ™ÁéØÊ¨°Êï∞: ${loopCount}`;
                        return; // ÈÅøÂÖçÊâßË°åÂêéÁª≠ÁöÑ‰∏ã‰∏ÄÂè•Ê£ÄÊµã
                    }
                }
                
                // Ê£ÄÊü•ÊòØÂê¶Â∫îËØ•ÊòæÁ§∫‰∏ã‰∏ÄÂè•Â≠óÂπï
                if (subtitles.length > 0 && currentSubIndex < subtitles.length - 1 && currentTime >= subtitles[currentSubIndex + 1].start) {
                    currentSubIndex++;
                    updateSubtitles();
                    
                    // Â¶ÇÊûúÂºÄÂêØ‰∫ÜÂæ™ÁéØÔºåÊõ¥Êñ∞Âæ™ÁéØËåÉÂõ¥
                    if (isLooping) {
                        currentLoopStart = subtitles[currentSubIndex].start;
                        currentLoopEnd = subtitles[currentSubIndex].end;
                    }
                }
            });
            
            // ËßÜÈ¢ëÁªìÊùü‰∫ã‰ª∂
            videoPlayer.addEventListener('ended', function() {
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                statusMessage.textContent = "Êí≠ÊîæÂÆåÊàê";
            });
            
            // ËßÜÈ¢ë‰∏ä‰º†‰∫ã‰ª∂ - ÊîπËøõÁâàÊú¨ÔºåÊîØÊåÅiOSËÆæÂ§á
            videoUpload.addEventListener('change', function(e) {
                console.log('ËßÜÈ¢ëÊñá‰ª∂‰∏ä‰º†‰∫ã‰ª∂Ëß¶Âèë');
                const file = e.target.files[0];
                if (!file) {
                    console.log('Ê≤°ÊúâÈÄâÊã©ËßÜÈ¢ëÊñá‰ª∂');
                    statusMessage.textContent = "Êú™ÈÄâÊã©ËßÜÈ¢ëÊñá‰ª∂ÔºåËØ∑ÈáçÊñ∞ÈÄâÊã©";
                    return;
                }
                
                console.log('ÈÄâÊã©ÁöÑËßÜÈ¢ëÊñá‰ª∂:', file.name, 'Â§ßÂ∞è:', file.size, 'Á±ªÂûã:', file.type);
                
                // ÊîπËøõÁöÑËßÜÈ¢ëÊñá‰ª∂Á±ªÂûãÊ£ÄÊµãÔºåÊîØÊåÅiOSËÆæÂ§á
                const validVideoTypes = ['video/mp4', 'video/avi', 'video/mov', 'video/wmv', 'video/flv', 'video/webm'];
                const validExtensions = ['.mp4', '.avi', '.mov', '.wmv', '.flv', '.webm', '.m4v', '.3gp'];
                const fileExt = file.name.substring(file.name.lastIndexOf('.')).toLowerCase();
                
                const isValidVideo = file.type.startsWith('video/') || 
                                   validVideoTypes.includes(file.type) ||
                                   validExtensions.includes(fileExt) ||
                                   file.name.toLowerCase().includes('.mp4') ||
                                   file.name.toLowerCase().includes('.avi') ||
                                   file.name.toLowerCase().includes('.mov');
                
                if (!isValidVideo) {
                    statusMessage.textContent = "ËØ∑ÈÄâÊã©ÊúâÊïàÁöÑËßÜÈ¢ëÊñá‰ª∂ÔºàMP4„ÄÅAVI„ÄÅMOVÁ≠âÊ†ºÂºèÔºâ";
                    console.log('‰∏çÊîØÊåÅÁöÑËßÜÈ¢ëÊ†ºÂºè:', fileExt, 'Êñá‰ª∂Á±ªÂûã:', file.type);
                    return;
                }
                
                videoFilename.textContent = file.name;
                statusMessage.innerHTML = '<span class="loading"></span> Ê≠£Âú®Âä†ËΩΩËßÜÈ¢ë...';
                
                try {
                    const videoURL = URL.createObjectURL(file);
                    videoPlayer.src = videoURL;
                    videoPlayer.load();
                    
                    // Ê∑ªÂä†Âä†ËΩΩ‰∫ã‰ª∂ÁõëÂê¨
                    videoPlayer.addEventListener('loadstart', function() {
                        console.log('ËßÜÈ¢ëÂºÄÂßãÂä†ËΩΩ');
                        statusMessage.innerHTML = '<span class="loading"></span> Ê≠£Âú®Âä†ËΩΩËßÜÈ¢ë...';
                    });
                    
                    videoPlayer.addEventListener('loadedmetadata', function() {
                        console.log('ËßÜÈ¢ëÂÖÉÊï∞ÊçÆÂä†ËΩΩÂÆåÊàê');
                        statusMessage.textContent = "ËßÜÈ¢ëÂÖÉÊï∞ÊçÆÂä†ËΩΩÂÆåÊàê";
                    });
                    
                    videoPlayer.addEventListener('loadeddata', function() {
                        console.log('ËßÜÈ¢ëÊï∞ÊçÆÂä†ËΩΩÂÆåÊàê');
                        statusMessage.textContent = "ËßÜÈ¢ëÂä†ËΩΩÂÆåÊàêÔºåÂáÜÂ§áÊí≠Êîæ";
                        // ÈáçÊñ∞Ë∞ÉÊï¥Â≠óÂπïÂ§ßÂ∞è
                        adjustSubtitleSize();
                        
                        // Â∞ùËØïËá™Âä®Êí≠Êîæ
                        videoPlayer.play().then(() => {
                            console.log('ËßÜÈ¢ëËá™Âä®Êí≠ÊîæÊàêÂäü');
                            playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                            statusMessage.textContent = "ËßÜÈ¢ëÊí≠Êîæ‰∏≠";
                        }).catch(error => {
                            console.error('Ëá™Âä®Êí≠ÊîæÂ§±Ë¥•:', error);
                            statusMessage.textContent = "ËßÜÈ¢ëÂä†ËΩΩÂÆåÊàêÔºåÁÇπÂáªÊí≠ÊîæÊåâÈíÆÂºÄÂßãÊí≠Êîæ";
                        });
                    });
                    
                    videoPlayer.addEventListener('error', function(e) {
                        console.error('ËßÜÈ¢ëÂä†ËΩΩÈîôËØØ:', e);
                        statusMessage.textContent = "ËßÜÈ¢ëÂä†ËΩΩÂ§±Ë¥•ÔºåËØ∑ÈÄâÊã©ÂÖ∂‰ªñÊñá‰ª∂";
                    });
                    
                    videoPlayer.addEventListener('canplay', function() {
                        console.log('ËßÜÈ¢ëÂèØ‰ª•Êí≠Êîæ');
                    });
                    
                } catch (error) {
                    console.error('ËßÜÈ¢ëÂ§ÑÁêÜÈîôËØØ:', error);
                    statusMessage.textContent = "ËßÜÈ¢ëÂ§ÑÁêÜÂ§±Ë¥•ÔºåËØ∑ÈÄâÊã©ÂÖ∂‰ªñÊñá‰ª∂";
                }
            });
            
            // Â≠óÂπï‰∏ä‰º†‰∫ã‰ª∂ - ÊîπËøõÁâàÊú¨ÔºåÊîØÊåÅiOSËÆæÂ§á
            subtitleUpload.addEventListener('change', function(e) {
                console.log('Â≠óÂπïÊñá‰ª∂‰∏ä‰º†‰∫ã‰ª∂Ëß¶Âèë');
                const file = e.target.files[0];
                if (!file) {
                    console.log('Ê≤°ÊúâÈÄâÊã©Êñá‰ª∂');
                    statusMessage.textContent = "Êú™ÈÄâÊã©Êñá‰ª∂ÔºåËØ∑ÈáçÊñ∞ÈÄâÊã©";
                    return;
                }
                
                console.log('ÈÄâÊã©ÁöÑÂ≠óÂπïÊñá‰ª∂:', file.name, 'Â§ßÂ∞è:', file.size, 'Á±ªÂûã:', file.type);
                
                // ‰ΩøÁî®ÊîπËøõÁöÑÊñá‰ª∂Á±ªÂûãÈ™åËØÅÂáΩÊï∞
                if (!validateSubtitleFile(file)) {
                    statusMessage.textContent = "ËØ∑ÈÄâÊã©SRT„ÄÅVTTÊàñTXTÊ†ºÂºèÁöÑÂ≠óÂπïÊñá‰ª∂";
                    console.log('‰∏çÊîØÊåÅÁöÑÊñá‰ª∂Ê†ºÂºè:', file.name, 'Êñá‰ª∂Á±ªÂûã:', file.type);
                    return;
                }
                
                subtitleFilename.textContent = file.name;
                statusMessage.innerHTML = '<span class="loading"></span> Ê≠£Âú®Âä†ËΩΩÂ≠óÂπï...';
                
                const reader = new FileReader();
                
                // ÊîπËøõÁöÑÈîôËØØÂ§ÑÁêÜ
                reader.onload = function(e) {
                    console.log('Â≠óÂπïÊñá‰ª∂ËØªÂèñÂÆåÊàêÔºåÂºÄÂßãËß£Êûê');
                    try {
                        const content = e.target.result;
                        console.log('Êñá‰ª∂ÂÜÖÂÆπÈïøÂ∫¶:', content.length);
                        console.log('Êñá‰ª∂ÂÜÖÂÆπÂâç200Â≠óÁ¨¶:', content.substring(0, 200));
                        
                        // Ëß£ÊûêÂ≠óÂπïÊñá‰ª∂
                        subtitles = parseSubtitle(content);
                        currentSubIndex = 0;
                        loopCount = 0;
                        loopCounter.textContent = `Âæ™ÁéØ: ${loopCount}`;
                        
                        console.log('Ëß£ÊûêÂà∞ÁöÑÂ≠óÂπïÊï∞Èáè:', subtitles.length);
                        
                        if (subtitles.length > 0) {
                            statusMessage.textContent = `ÊàêÂäüÂä†ËΩΩ ${subtitles.length} Êù°ÂèåËØ≠Â≠óÂπï`;
                            updateSubtitles();
                            // ÈáçÊñ∞Ë∞ÉÊï¥Â≠óÂπïÂ§ßÂ∞è
                            adjustSubtitleSize();
                        } else {
                            statusMessage.textContent = "Â≠óÂπïÊñá‰ª∂‰∏∫Á©∫ÊàñÊ†ºÂºè‰∏çÊ≠£Á°ÆÔºåËØ∑Ê£ÄÊü•Êñá‰ª∂ÂÜÖÂÆπ";
                            console.log('Â≠óÂπïËß£ÊûêÁªìÊûú‰∏∫Á©∫');
                        }
                    } catch (error) {
                        console.error('Â≠óÂπïËß£ÊûêÈîôËØØ:', error);
                        statusMessage.textContent = "Â≠óÂπïËß£ÊûêÂ§±Ë¥•: " + error.message;
                    }
                };
                
                reader.onerror = function(error) {
                    console.error('Êñá‰ª∂ËØªÂèñÈîôËØØ:', error);
                    statusMessage.textContent = "Êñá‰ª∂ËØªÂèñÂ§±Ë¥•ÔºåËØ∑ÈáçÊñ∞ÈÄâÊã©";
                };
                
                // Â∞ùËØïÂ§öÁßçÁºñÁ†ÅÊ†ºÂºè
                const encodings = ['UTF-8', 'GBK', 'GB2312', 'UTF-16'];
                let encodingIndex = 0;
                
                function tryNextEncoding() {
                    if (encodingIndex >= encodings.length) {
                        statusMessage.textContent = "Êó†Ê≥ïËØªÂèñÊñá‰ª∂ÔºåËØ∑Ê£ÄÊü•Êñá‰ª∂ÁºñÁ†ÅÊàñÈáçÊñ∞ÈÄâÊã©";
                        return;
                    }
                    
                    const encoding = encodings[encodingIndex];
                    console.log('Â∞ùËØï‰ΩøÁî®ÁºñÁ†Å:', encoding);
                    
                    try {
                        reader.readAsText(file, encoding);
                    } catch (error) {
                        console.error('ÁºñÁ†ÅËØªÂèñÂ§±Ë¥•:', encoding, error);
                        encodingIndex++;
                        setTimeout(tryNextEncoding, 100);
                    }
                }
                
                // ÂºÄÂßãÂ∞ùËØïËØªÂèñ
                tryNextEncoding();
                
                // Ê∑ªÂä†Ë∂ÖÊó∂Â§ÑÁêÜ
                setTimeout(() => {
                    if (statusMessage.innerHTML.includes('Ê≠£Âú®Âä†ËΩΩÂ≠óÂπï')) {
                        statusMessage.textContent = "Â≠óÂπïÂä†ËΩΩË∂ÖÊó∂ÔºåËØ∑Ê£ÄÊü•Êñá‰ª∂Ê†ºÂºèÊàñÈáçÊñ∞‰∏ä‰º†";
                        console.log('Â≠óÂπïÂä†ËΩΩË∂ÖÊó∂');
                    }
                }, 15000);
            });
            
            // ËæÖÂä©ÂáΩÊï∞ÔºöË∑≥ËΩ¨Âà∞ÊåáÂÆöÂ≠óÂπï
            function jumpToSubtitle(index) {
                if (subtitles.length === 0) return;
                
                currentSubIndex = index;
                videoPlayer.currentTime = subtitles[index].start;
                loopCount = 0;
                loopCounter.textContent = `Âæ™ÁéØ: ${loopCount}`;
                updateSubtitles();
                
                // Êõ¥Êñ∞Âæ™ÁéØËåÉÂõ¥
                if (isLooping) {
                    currentLoopStart = subtitles[index].start;
                    currentLoopEnd = subtitles[index].end;
                }
                
                if (videoPlayer.paused) {
                    videoPlayer.play().then(() => {
                        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                    }).catch(error => {
                        console.error('Ë∑≥ËΩ¨Êí≠ÊîæÂ§±Ë¥•:', error);
                    });
                }
            }
            

            
            // ËæÖÂä©ÂáΩÊï∞ÔºöËß£ÊûêÂ≠óÂπïÊñá‰ª∂
            function parseSubtitle(text) {
                console.log('ÂºÄÂßãËß£ÊûêÂ≠óÂπïÊñá‰ª∂ÔºåÂÜÖÂÆπÈïøÂ∫¶:', text.length);
                console.log('Â≠óÂπïÊñá‰ª∂Ââç100‰∏™Â≠óÁ¨¶:', text.substring(0, 100));
                
                const subtitles = [];
                const blocks = text.split(/\n\s*\n/);
                
                console.log('ÂàÜÂâ≤ÂêéÁöÑÂùóÊï∞Èáè:', blocks.length);
                
                for (let i = 0; i < blocks.length; i++) {
                    const block = blocks[i];
                    if (!block.trim()) continue;
                    
                    const lines = block.split('\n').map(line => line.trim()).filter(line => line !== '');
                    
                    console.log(`Âùó ${i + 1} Ë°åÊï∞:`, lines.length, 'ÂÜÖÂÆπ:', lines);
                    
                    // Ëá≥Â∞ëÈúÄË¶ÅÂ∫èÂè∑„ÄÅÊó∂Èó¥ËΩ¥ÂíåÂÜÖÂÆπ
                    if (lines.length < 3) {
                        console.log(`Âùó ${i + 1} Ë°åÊï∞‰∏çË∂≥ÔºåË∑≥Ëøá`);
                        continue;
                    }
                    
                    // Ëß£ÊûêÊó∂Èó¥ËΩ¥
                    const timeline = lines[1];
                    const timeParts = timeline.split('-->');
                    if (timeParts.length !== 2) {
                        console.log(`Âùó ${i + 1} Êó∂Èó¥ËΩ¥Ê†ºÂºèÈîôËØØ:`, timeline);
                        continue;
                    }
                    
                    const startTime = parseTime(timeParts[0].trim());
                    const endTime = parseTime(timeParts[1].trim());
                    
                    console.log(`Âùó ${i + 1} Êó∂Èó¥:`, startTime, '->', endTime);
                    
                    // ÂÜÖÂÆπË°å - ÂèñÁ¨¨2Ë°å‰πãÂêéÁöÑÊâÄÊúâË°å
                    const contentLines = lines.slice(2);
                    
                    // Â∞ùËØïÂàÜÁ¶ª‰∏≠Ëã±ÊñáÂ≠óÂπï
                    let eng = "";
                    let chi = "";
                    
                    // Á≠ñÁï•1Ôºö‰∏ÄË°åËã±Êñá‰∏ÄË°å‰∏≠Êñá
                    if (contentLines.length >= 2) {
                        // Á¨¨‰∏ÄË°åÂÅáËÆæ‰∏∫Ëã±ÊñáÔºåÁ¨¨‰∫åË°åÂÅáËÆæ‰∏∫‰∏≠Êñá
                        eng = contentLines[0];
                        chi = contentLines[1];
                        console.log(`Âùó ${i + 1} ÂàÜÁ¶ªÁªìÊûú - Ëã±Êñá:`, eng, '‰∏≠Êñá:', chi);
                    } 
                    // Á≠ñÁï•2ÔºöÂçïË°åÂÜÖÂÆπÔºåÂ∞ùËØïÁî®Êã¨Âè∑ÂàÜÈöî
                    else if (contentLines.length === 1) {
                        const content = contentLines[0];
                        // Â∞ùËØïÂåπÈÖç‰∏≠Êã¨Âè∑ÊàñÂ∞èÊã¨Âè∑‰∏≠ÁöÑ‰∏≠ÊñáÂÜÖÂÆπ
                        const match = content.match(/(.*?)[Ôºà(](.+?)[)Ôºâ](.*)/);
                        if (match) {
                            eng = (match[1] + match[3]).trim();
                            chi = match[2].trim();
                            console.log(`Âùó ${i + 1} Êã¨Âè∑ÂàÜÁ¶ªÁªìÊûú - Ëã±Êñá:`, eng, '‰∏≠Êñá:', chi);
                        } else {
                            // Á≠ñÁï•3ÔºöÂ∞ùËØïÁî®ÊñúÊù†ÂàÜÈöî
                            const slashMatch = content.match(/(.*?)\/(.*)/);
                            if (slashMatch) {
                                eng = slashMatch[1].trim();
                                chi = slashMatch[2].trim();
                                console.log(`Âùó ${i + 1} ÊñúÊù†ÂàÜÁ¶ªÁªìÊûú - Ëã±Êñá:`, eng, '‰∏≠Êñá:', chi);
                            } else {
                                // Á≠ñÁï•4ÔºöÂ∞ùËØïÁî®Á†¥ÊäòÂè∑ÂàÜÈöî
                                const dashMatch = content.match(/(.*?)\s*-\s*(.*)/);
                                if (dashMatch) {
                                    eng = dashMatch[1].trim();
                                    chi = dashMatch[2].trim();
                                    console.log(`Âùó ${i + 1} Á†¥ÊäòÂè∑ÂàÜÁ¶ªÁªìÊûú - Ëã±Êñá:`, eng, '‰∏≠Êñá:', chi);
                                } else {
                                    // Êó†Ê≥ïÂàÜÁ¶ªÔºåÊï¥Ë°å‰Ωú‰∏∫Ëã±Êñá
                                    eng = content;
                                    chi = content;
                                    console.log(`Âùó ${i + 1} Êó†Ê≥ïÂàÜÁ¶ªÔºå‰ΩøÁî®ÂéüÂÜÖÂÆπ:`, content);
                                }
                            }
                        }
                    }
                    
                    subtitles.push({
                        start: startTime,
                        end: endTime,
                        eng: eng,
                        chi: chi
                    });
                }
                
                console.log('Ëß£ÊûêÂÆåÊàêÔºåÊÄªÂ≠óÂπïÊï∞:', subtitles.length);
                return subtitles;
            }
            
            // ËæÖÂä©ÂáΩÊï∞ÔºöËΩ¨Êç¢Êó∂Èó¥Ê†ºÂºè
            function parseTime(timeStr) {
                // ÊîØÊåÅ‰∏§ÁßçÊ†ºÂºèÔºö00:00:05,000 Âíå 00:00:05.000
                const parts = timeStr.split(/[:,.]/);
                if (parts.length !== 4) return 0;
                
                const hours = parseInt(parts[0]);
                const minutes = parseInt(parts[1]);
                const seconds = parseInt(parts[2]);
                const milliseconds = parseInt(parts[3]);
                
                return hours * 3600 + minutes * 60 + seconds + milliseconds / 1000;
            }
            
            // ËæÖÂä©ÂáΩÊï∞ÔºöÊõ¥Êñ∞Áä∂ÊÄÅÊ∂àÊÅØÊ†∑Âºè
            function updateStatusMessage(message, type = 'info') {
                statusMessage.textContent = message;
                statusMessage.className = 'status ' + type;
            }
            
            // ËæÖÂä©ÂáΩÊï∞ÔºöiOSËÆæÂ§áÊñá‰ª∂Á±ªÂûãÊ£ÄÊµã
            function isIOSDevice() {
                return /iPad|iPhone|iPod/.test(navigator.userAgent) || 
                       (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
            }
            
            // ËæÖÂä©ÂáΩÊï∞ÔºöÊîπËøõÁöÑÊñá‰ª∂Á±ªÂûãÈ™åËØÅ
            function validateSubtitleFile(file) {
                const fileName = file.name.toLowerCase();
                const fileExt = fileName.substring(fileName.lastIndexOf('.'));
                
                console.log('Êñá‰ª∂È™åËØÅ - Êñá‰ª∂Âêç:', fileName, 'Êâ©Â±ïÂêç:', fileExt, 'MIMEÁ±ªÂûã:', file.type);
                
                // ÊîØÊåÅÁöÑÊâ©Â±ïÂêç
                const validExtensions = ['.srt', '.vtt', '.txt'];
                
                // ÁßªÂä®ËÆæÂ§áÔºöÊîæÂÆΩÈ™åËØÅÊù°‰ª∂Ôºå‰∏ªË¶ÅÊ£ÄÊü•Êñá‰ª∂Êâ©Â±ïÂêç
                if (isIOSDevice() || /Android|Mobile|Tablet/.test(navigator.userAgent)) {
                    return validExtensions.includes(fileExt) || 
                           fileName.includes('.srt') ||
                           fileName.includes('.vtt') ||
                           fileName.includes('.txt') ||
                           file.type === 'text/plain' || 
                           file.type === 'application/octet-stream' ||
                           file.type === '' || // Êüê‰∫õËÆæÂ§áÂèØËÉΩËøîÂõûÁ©∫Â≠óÁ¨¶‰∏≤
                           file.type === 'application/unknown' ||
                           file.type === 'text/plain; charset=utf-8' ||
                           file.type === 'text/plain; charset=gbk' ||
                           file.type === 'text/plain; charset=gb2312' ||
                           file.type === 'text/plain; charset=big5';
                } else {
                    // Ê°åÈù¢ËÆæÂ§áÔºö‰ΩøÁî®Êõ¥‰∏•Ê†ºÁöÑÊñá‰ª∂Á±ªÂûãÊ£ÄÊü•
                    return validExtensions.includes(fileExt) || 
                           file.type === 'text/plain' || 
                           file.type === 'application/octet-stream' ||
                           fileName.includes('.srt') ||
                           fileName.includes('.vtt') ||
                           fileName.includes('.txt');
                }
            }
            
            // ==================== ÂçïËØçÊü•ËØ¢ÂäüËÉΩ ====================
            
            // ÂàùÂßãÂåñÂçïËØçÊü•ËØ¢ÂäüËÉΩ
            function initializeWordQuery() {
                console.log('ÂàùÂßãÂåñÂçïËØçÊü•ËØ¢ÂäüËÉΩ...');
                
                // ÂàùÂßãÂåñËØçÂÖ∏Êï∞ÊçÆ
                initializeDictionary();
                
                // ÂàùÂßãÂåñËÄÉËØïËØçÊ±áÂàóË°®
                initializeExamWordLists();
                
                // ÁªëÂÆöÂºπÁ™óÂÖ≥Èó≠‰∫ã‰ª∂
                popupClose.addEventListener('click', hideWordPopup);
                
                // ÁªëÂÆöÁÇπÂáªÂ§ñÈÉ®ÂÖ≥Èó≠ÂºπÁ™ó
                document.addEventListener('click', function(e) {
                    if (!wordPopup.contains(e.target) && !e.target.classList.contains('word-clickable')) {
                        hideWordPopup();
                    }
                });
                
                // ÊµãËØïËØçÂÖ∏ÊòØÂê¶Ê≠£Â∏∏Âä†ËΩΩ
                console.log('ËØçÂÖ∏Âä†ËΩΩÊµãËØï - ÊµãËØïÂçïËØç "hello":', wordDictionary['hello']);
                console.log('ËØçÂÖ∏Âä†ËΩΩÊµãËØï - ÊµãËØïÂçïËØç "ability":', wordDictionary['ability']);
                console.log('ËØçÂÖ∏Âä†ËΩΩÊµãËØï - ÊµãËØïÂçïËØç "academic":', wordDictionary['academic']);
                
                console.log('ÂçïËØçÊü•ËØ¢ÂäüËÉΩÂàùÂßãÂåñÂÆåÊàê');
            }
            
            // ÂàùÂßãÂåñËØçÂÖ∏Êï∞ÊçÆ
            function initializeDictionary() {
                // Êâ©Â±ïËØçÊ±áËØçÂÖ∏ÔºàÂåÖÂê´ÂõõÁ∫ß„ÄÅÂÖ≠Á∫ß„ÄÅÂÖ´Á∫ß„ÄÅÈõÖÊÄù„ÄÅÊâòÁ¶è„ÄÅGRE„ÄÅÈ´òËÄÉ„ÄÅËÄÉÁ†îËØçÊ±áÔºâ
                wordDictionary = {
                    // ÂõõÁ∫ßËØçÊ±á
                    'abandon': {
                        phonetic: '/…ôÀàb√¶nd…ôn/',
                        meaning: 'v. ÊîæÂºÉÔºåÈÅóÂºÉÔºõÁ¶ªÂºÉ',
                        exams: ['cet4'],
                        example: 'He would never abandon his friends in trouble.'
                    },
                    'ability': {
                        phonetic: '/…ôÀàb…™l…ôti/',
                        meaning: 'n. ËÉΩÂäõÔºåÊâçËÉΩÔºõÊú¨È¢Ü',
                        exams: ['cet4'],
                        example: 'She has the ability to learn languages quickly.'
                    },
                    'abroad': {
                        phonetic: '/…ôÀàbr…îÀêd/',
                        meaning: 'adv. Âú®ÂõΩÂ§ñÔºåÊµ∑Â§ñ',
                        exams: ['cet4'],
                        example: 'He went abroad to study English.'
                    },
                    'absolute': {
                        phonetic: '/Àà√¶bs…ôluÀêt/',
                        meaning: 'adj. ÁªùÂØπÁöÑÔºåÂÆåÂÖ®ÁöÑ',
                        exams: ['cet4'],
                        example: 'I have absolute confidence in your ability.'
                    },
                    'accept': {
                        phonetic: '/…ôkÀàsept/',
                        meaning: 'v. Êé•ÂèóÔºåÂêåÊÑè',
                        exams: ['cet4'],
                        example: 'I accept your apology.'
                    },
                    
                    // ÂÖ≠Á∫ßËØçÊ±á
                    'academic': {
                        phonetic: '/Àå√¶k…ôÀàdem…™k/',
                        meaning: 'adj. Â≠¶ÊúØÁöÑÔºåÁêÜËÆ∫ÁöÑ',
                        exams: ['cet6'],
                        example: 'This is an academic discussion.'
                    },
                    'accomplish': {
                        phonetic: '/…ôÀàk åmpl…™ É/',
                        meaning: 'v. ÂÆåÊàêÔºåÂÆûÁé∞',
                        exams: ['cet6'],
                        example: 'She accomplished all her goals.'
                    },
                    'accurate': {
                        phonetic: '/Àà√¶kj…ôr…ôt/',
                        meaning: 'adj. ÂáÜÁ°ÆÁöÑÔºåÁ≤æÁ°ÆÁöÑ',
                        exams: ['cet6'],
                        example: 'The weather forecast was accurate.'
                    },
                    'achieve': {
                        phonetic: '/…ôÀàt ÉiÀêv/',
                        meaning: 'v. ËææÂà∞ÔºåÂÆûÁé∞',
                        exams: ['cet6'],
                        example: 'He achieved great success in his career.'
                    },
                    'adequate': {
                        phonetic: '/Àà√¶d…™kw…ôt/',
                        meaning: 'adj. ÂÖÖË∂≥ÁöÑÔºåÈÄÇÂΩìÁöÑ',
                        exams: ['cet6'],
                        example: 'The food was adequate for everyone.'
                    },
                    
                    // ÂÖ´Á∫ßËØçÊ±á
                    'aberrant': {
                        phonetic: '/…ôÀàber…ônt/',
                        meaning: 'adj. ÂèçÂ∏∏ÁöÑÔºåÂºÇÂ∏∏ÁöÑ',
                        exams: ['cet8'],
                        example: 'His behavior was aberrant.'
                    },
                    'abeyance': {
                        phonetic: '/…ôÀàbe…™…ôns/',
                        meaning: 'n. ÊöÇÂÅúÔºå‰∏≠Ê≠¢',
                        exams: ['cet8'],
                        example: 'The project is in abeyance.'
                    },
                    'abstruse': {
                        phonetic: '/√¶bÀàstruÀês/',
                        meaning: 'adj. Ê∑±Â••ÁöÑÔºåÊô¶Ê∂©ÁöÑ',
                        exams: ['cet8'],
                        example: 'The text was too abstruse for me.'
                    },
                    
                    // ÈõÖÊÄùËØçÊ±á
                    'accommodation': {
                        phonetic: '/…ôÀåk…ím…ôÀàde…™ Én/',
                        meaning: 'n. ‰ΩèÂÆøÔºåËÜ≥ÂÆø',
                        exams: ['ielts'],
                        example: 'The hotel provides excellent accommodation.'
                    },
                    'accomplish': {
                        phonetic: '/…ôÀàk åmpl…™ É/',
                        meaning: 'v. ÂÆåÊàêÔºåÂÆûÁé∞',
                        exams: ['ielts'],
                        example: 'She accomplished her mission successfully.'
                    },
                    'accurate': {
                        phonetic: '/Àà√¶kj…ôr…ôt/',
                        meaning: 'adj. ÂáÜÁ°ÆÁöÑÔºåÁ≤æÁ°ÆÁöÑ',
                        exams: ['ielts'],
                        example: 'The measurements were accurate.'
                    },
                    
                    // ÊâòÁ¶èËØçÊ±á
                    'academic': {
                        phonetic: '/Àå√¶k…ôÀàdem…™k/',
                        meaning: 'adj. Â≠¶ÊúØÁöÑÔºåÁêÜËÆ∫ÁöÑ',
                        exams: ['toefl'],
                        example: 'This is an academic paper.'
                    },
                    'accomplish': {
                        phonetic: '/…ôÀàk åmpl…™ É/',
                        meaning: 'v. ÂÆåÊàêÔºåÂÆûÁé∞',
                        exams: ['toefl'],
                        example: 'He accomplished his task on time.'
                    },
                    
                    // GREËØçÊ±á
                    'aberrant': {
                        phonetic: '/…ôÀàber…ônt/',
                        meaning: 'adj. ÂèçÂ∏∏ÁöÑÔºåÂºÇÂ∏∏ÁöÑ',
                        exams: ['gre'],
                        example: 'The aberrant behavior was concerning.'
                    },
                    'abeyance': {
                        phonetic: '/…ôÀàbe…™…ôns/',
                        meaning: 'n. ÊöÇÂÅúÔºå‰∏≠Ê≠¢',
                        exams: ['gre'],
                        example: 'The matter is held in abeyance.'
                    },
                    
                    // È´òËÄÉËØçÊ±á
                    'ability': {
                        phonetic: '/…ôÀàb…™l…ôti/',
                        meaning: 'n. ËÉΩÂäõÔºåÊâçËÉΩ',
                        exams: ['gaokao'],
                        example: 'He has the ability to solve problems.'
                    },
                    'abroad': {
                        phonetic: '/…ôÀàbr…îÀêd/',
                        meaning: 'adv. Âú®ÂõΩÂ§ñÔºåÊµ∑Â§ñ',
                        exams: ['gaokao'],
                        example: 'She went abroad to study.'
                    },
                    'accept': {
                        phonetic: '/…ôkÀàsept/',
                        meaning: 'v. Êé•ÂèóÔºåÂêåÊÑè',
                        exams: ['gaokao'],
                        example: 'I accept your invitation.'
                    },
                    
                    // Êõ¥Â§öÂ∏∏Áî®ËØçÊ±á
                    'hello': {
                        phonetic: '/h…ôÀàl…ô ä/',
                        meaning: 'int. ‰Ω†Â•ΩÔºåÂñÇ',
                        exams: [],
                        example: 'Hello, how are you today?'
                    },
                    'world': {
                        phonetic: '/w…úÀêld/',
                        meaning: 'n. ‰∏ñÁïåÔºåÂú∞ÁêÉ',
                        exams: [],
                        example: 'The world is changing rapidly.'
                    },
                    'good': {
                        phonetic: '/…° äd/',
                        meaning: 'adj. Â•ΩÁöÑÔºå‰ºòÁßÄÁöÑ',
                        exams: [],
                        example: 'This is a good book.'
                    },
                    'time': {
                        phonetic: '/ta…™m/',
                        meaning: 'n. Êó∂Èó¥ÔºåÊó∂Âàª',
                        exams: [],
                        example: 'Time flies when you are having fun.'
                    },
                    'people': {
                        phonetic: '/ÀàpiÀêpl/',
                        meaning: 'n. ‰∫∫‰ª¨Ôºå‰∫∫Ê∞ë',
                        exams: [],
                        example: 'Many people attended the meeting.'
                    },
                    'year': {
                        phonetic: '/j…™…ô(r)/',
                        meaning: 'n. Âπ¥ÔºåÂπ¥Â∫¶',
                        exams: [],
                        example: 'Happy New Year!'
                    },
                    'way': {
                        phonetic: '/we…™/',
                        meaning: 'n. ÊñπÂºèÔºåÊñπÊ≥ï',
                        exams: [],
                        example: 'This is the best way to solve the problem.'
                    },
                    'day': {
                        phonetic: '/de…™/',
                        meaning: 'n. Â§©ÔºåÊó•Â≠ê',
                        exams: [],
                        example: 'Have a nice day!'
                    },
                    'man': {
                        phonetic: '/m√¶n/',
                        meaning: 'n. Áî∑‰∫∫Ôºå‰∫∫Á±ª',
                        exams: [],
                        example: 'Every man has his own opinion.'
                    },
                    'thing': {
                        phonetic: '/Œ∏…™≈ã/',
                        meaning: 'n. ‰∫ãÁâ©Ôºå‰∏úË•ø',
                        exams: [],
                        example: 'This thing is very important.'
                    },
                    'woman': {
                        phonetic: '/Ààw äm…ôn/',
                        meaning: 'n. Â•≥‰∫∫ÔºåÂ•≥ÊÄß',
                        exams: [],
                        example: 'She is a strong woman.'
                    },
                    'life': {
                        phonetic: '/la…™f/',
                        meaning: 'n. ÁîüÂëΩÔºåÁîüÊ¥ª',
                        exams: [],
                        example: 'Life is beautiful.'
                    },
                    'child': {
                        phonetic: '/t Éa…™ld/',
                        meaning: 'n. Â≠©Â≠êÔºåÂÑøÁ´•',
                        exams: [],
                        example: 'Every child deserves love.'
                    },
                    'work': {
                        phonetic: '/w…úÀêk/',
                        meaning: 'n. Â∑•‰ΩúÔºåÂä≥Âä® v. Â∑•‰Ωú',
                        exams: [],
                        example: 'I work hard every day.'
                    },
                    'place': {
                        phonetic: '/ple…™s/',
                        meaning: 'n. Âú∞ÊñπÔºå‰ΩçÁΩÆ',
                        exams: [],
                        example: 'This is a beautiful place.'
                    },
                    'case': {
                        phonetic: '/ke…™s/',
                        meaning: 'n. ÊÉÖÂÜµÔºåÊ°à‰æã',
                        exams: [],
                        example: 'In this case, we need to be careful.'
                    },
                    'week': {
                        phonetic: '/wiÀêk/',
                        meaning: 'n. Âë®ÔºåÊòüÊúü',
                        exams: [],
                        example: 'I will see you next week.'
                    },
                    'company': {
                        phonetic: '/Ààk åmp…ôni/',
                        meaning: 'n. ÂÖ¨Âè∏ÔºåÈô™‰º¥',
                        exams: [],
                        example: 'I work for a big company.'
                    },
                    'system': {
                        phonetic: '/Ààs…™st…ôm/',
                        meaning: 'n. Á≥ªÁªüÔºåÂà∂Â∫¶',
                        exams: [],
                        example: 'The computer system is working well.'
                    },
                    'program': {
                        phonetic: '/Ààpr…ô ä…°r√¶m/',
                        meaning: 'n. Á®ãÂ∫èÔºåËäÇÁõÆ',
                        exams: [],
                        example: 'This program is very useful.'
                    },
                    'question': {
                        phonetic: '/Ààkwest É…ôn/',
                        meaning: 'n. ÈóÆÈ¢òÔºåÁñëÈóÆ',
                        exams: [],
                        example: 'Do you have any questions?'
                    },
                    'government': {
                        phonetic: '/Àà…° åv…ônm…ônt/',
                        meaning: 'n. ÊîøÂ∫úÔºåÊîø‰Ωì',
                        exams: [],
                        example: 'The government made a new policy.'
                    },
                    'number': {
                        phonetic: '/Ààn åmb…ô(r)/',
                        meaning: 'n. Êï∞Â≠óÔºåÂè∑Á†Å',
                        exams: [],
                        example: 'What is your phone number?'
                    },
                    'group': {
                        phonetic: '/…°ruÀêp/',
                        meaning: 'n. ÁªÑÔºåÁæ§',
                        exams: [],
                        example: 'We work as a group.'
                    },
                    'problem': {
                        phonetic: '/Ààpr…íbl…ôm/',
                        meaning: 'n. ÈóÆÈ¢òÔºåÈöæÈ¢ò',
                        exams: [],
                        example: 'This is a difficult problem.'
                    },
                    'fact': {
                        phonetic: '/f√¶kt/',
                        meaning: 'n. ‰∫ãÂÆûÔºåÁúüÁõ∏',
                        exams: [],
                        example: 'The fact is that he is right.'
                    },
                    'water': {
                        phonetic: '/Ààw…îÀêt…ô(r)/',
                        meaning: 'n. Ê∞¥',
                        exams: [],
                        example: 'I need to drink more water.'
                    },
                    'money': {
                        phonetic: '/Ààm åni/',
                        meaning: 'n. Èí±ÔºåÈáëÈí±',
                        exams: [],
                        example: 'Money is not everything.'
                    },
                    'month': {
                        phonetic: '/m ånŒ∏/',
                        meaning: 'n. ÊúàÔºåÊúà‰ªΩ',
                        exams: [],
                        example: 'I will travel next month.'
                    },
                    'lot': {
                        phonetic: '/l…ít/',
                        meaning: 'n. ÂæàÂ§öÔºåÂ§ßÈáè',
                        exams: [],
                        example: 'I have a lot of work to do.'
                    },
                    'right': {
                        phonetic: '/ra…™t/',
                        meaning: 'adj. Ê≠£Á°ÆÁöÑÔºåÂè≥ËæπÁöÑ',
                        exams: [],
                        example: 'You are absolutely right.'
                    },
                    'study': {
                        phonetic: '/Ààst ådi/',
                        meaning: 'v. Â≠¶‰π†ÔºåÁ†îÁ©∂ n. Â≠¶‰π†',
                        exams: [],
                        example: 'I study English every day.'
                    },
                    'book': {
                        phonetic: '/b äk/',
                        meaning: 'n. ‰π¶Ôºå‰π¶Á±ç',
                        exams: [],
                        example: 'I love reading books.'
                    },
                    'eye': {
                        phonetic: '/a…™/',
                        meaning: 'n. ÁúºÁùõ',
                        exams: [],
                        example: 'She has beautiful eyes.'
                    },
                    'job': {
                        phonetic: '/d í…íb/',
                        meaning: 'n. Â∑•‰ΩúÔºåËÅå‰∏ö',
                        exams: [],
                        example: 'I have a good job.'
                    },
                    'word': {
                        phonetic: '/w…úÀêd/',
                        meaning: 'n. ÂçïËØçÔºåËØùËØ≠',
                        exams: [],
                        example: 'This is a new word for me.'
                    },
                    'business': {
                        phonetic: '/Ààb…™zn…ôs/',
                        meaning: 'n. ÂïÜ‰∏öÔºåÁîüÊÑè',
                        exams: [],
                        example: 'He runs his own business.'
                    },
                    'issue': {
                        phonetic: '/Àà…™ ÉuÀê/',
                        meaning: 'n. ÈóÆÈ¢òÔºåËÆÆÈ¢ò',
                        exams: [],
                        example: 'This is an important issue.'
                    },
                    'side': {
                        phonetic: '/sa…™d/',
                        meaning: 'n. ËæπÔºå‰æßÈù¢',
                        exams: [],
                        example: 'Please sit on this side.'
                    },
                    'kind': {
                        phonetic: '/ka…™nd/',
                        meaning: 'n. ÁßçÁ±ªÔºåÁ±ªÂûã adj. ÂñÑËâØÁöÑ',
                        exams: [],
                        example: 'What kind of music do you like?'
                    },
                    'head': {
                        phonetic: '/hed/',
                        meaning: 'n. Â§¥ÔºåÂ§¥ÈÉ®',
                        exams: [],
                        example: 'He nodded his head.'
                    },
                    'house': {
                        phonetic: '/ha äs/',
                        meaning: 'n. ÊàøÂ≠êÔºå‰ΩèÂÆÖ',
                        exams: [],
                        example: 'I live in a big house.'
                    },
                    'service': {
                        phonetic: '/Ààs…úÀêv…™s/',
                        meaning: 'n. ÊúçÂä°ÔºåÊúçÂä°',
                        exams: [],
                        example: 'The service here is excellent.'
                    },
                    'friend': {
                        phonetic: '/frend/',
                        meaning: 'n. ÊúãÂèã',
                        exams: [],
                        example: 'She is my best friend.'
                    },
                    'father': {
                        phonetic: '/Ààf…ëÀê√∞…ô(r)/',
                        meaning: 'n. Áà∂‰∫≤',
                        exams: [],
                        example: 'My father is a teacher.'
                    },
                    'centre': {
                        phonetic: '/Ààsent…ô(r)/',
                        meaning: 'n. ‰∏≠ÂøÉÔºå‰∏≠Â§Æ',
                        exams: [],
                        example: 'The city centre is very busy.'
                    },
                    'force': {
                        phonetic: '/f…îÀês/',
                        meaning: 'n. ÂäõÈáèÔºåÊ≠¶Âäõ',
                        exams: [],
                        example: 'The police force is well-trained.'
                    },
                    'education': {
                        phonetic: '/Àåed íuÀàke…™ Én/',
                        meaning: 'n. ÊïôËÇ≤',
                        exams: [],
                        example: 'Education is very important.'
                    },
                    'care': {
                        phonetic: '/ke…ô(r)/',
                        meaning: 'n. ÂÖ≥ÂøÉÔºåÁÖßÈ°æ',
                        exams: [],
                        example: 'Take care of yourself.'
                    },
                    'research': {
                        phonetic: '/r…™Ààs…úÀêt É/',
                        meaning: 'n. Á†îÁ©∂ÔºåË∞ÉÊü•',
                        exams: [],
                        example: 'He is doing research on cancer.'
                    },
                    'approach': {
                        phonetic: '/…ôÀàpr…ô ät É/',
                        meaning: 'v. Êé•ËøëÔºåÂ§ÑÁêÜ',
                        exams: ['cet6'],
                        example: 'We need to approach this problem differently.'
                    },
                    'available': {
                        phonetic: '/…ôÀàve…™l…ôbl/',
                        meaning: 'adj. ÂèØÁî®ÁöÑÔºåÂèØËé∑ÂæóÁöÑ',
                        exams: ['cet6'],
                        example: 'The information is available online.'
                    },
                    'benefit': {
                        phonetic: '/Ààben…™f…™t/',
                        meaning: 'n. Â•ΩÂ§ÑÔºåÂà©Áõä',
                        exams: ['cet6'],
                        example: 'The new policy will benefit everyone.'
                    },
                    'challenge': {
                        phonetic: '/Ààt É√¶l…™nd í/',
                        meaning: 'n. ÊåëÊàòÔºåÈöæÈ¢ò',
                        exams: ['cet6'],
                        example: 'This is a great challenge for us.'
                    },
                    'develop': {
                        phonetic: '/d…™Ààvel…ôp/',
                        meaning: 'v. ÂèëÂ±ïÔºåÂºÄÂèë',
                        exams: ['cet6'],
                        example: 'We need to develop new skills.'
                    },
                    'environment': {
                        phonetic: '/…™nÀàva…™r…ônm…ônt/',
                        meaning: 'n. ÁéØÂ¢É',
                        exams: ['cet6'],
                        example: 'We must protect the environment.'
                    },
                    'experience': {
                        phonetic: '/…™kÀàsp…™…ôri…ôns/',
                        meaning: 'n. ÁªèÈ™åÔºåÁªèÂéÜ',
                        exams: ['cet6'],
                        example: 'She has a lot of experience in teaching.'
                    },
                    'function': {
                        phonetic: '/Ààf å≈ãk Én/',
                        meaning: 'n. ÂäüËÉΩÔºå‰ΩúÁî®',
                        exams: ['cet6'],
                        example: 'This function is very useful.'
                    },
                    'generate': {
                        phonetic: '/Ààd íen…ôre…™t/',
                        meaning: 'v. ‰∫ßÁîüÔºåÁîüÊàê',
                        exams: ['cet6'],
                        example: 'The machine can generate electricity.'
                    },
                    'identify': {
                        phonetic: '/a…™Ààdent…™fa…™/',
                        meaning: 'v. ËØÜÂà´ÔºåÁ°ÆËÆ§',
                        exams: ['cet6'],
                        example: 'Can you identify this person?'
                    },
                    'implement': {
                        phonetic: '/Àà…™mpl…™ment/',
                        meaning: 'v. ÂÆûÊñΩÔºåÊâßË°å',
                        exams: ['cet6'],
                        example: 'We will implement this plan next month.'
                    },
                    'indicate': {
                        phonetic: '/Àà…™nd…™ke…™t/',
                        meaning: 'v. ÊåáÁ§∫ÔºåË°®Êòé',
                        exams: ['cet6'],
                        example: 'The signs indicate the way to go.'
                    },
                    'maintain': {
                        phonetic: '/me…™nÀàte…™n/',
                        meaning: 'v. Áª¥ÊåÅÔºå‰øùÊåÅ',
                        exams: ['cet6'],
                        example: 'We must maintain good relationships.'
                    },
                    'obtain': {
                        phonetic: '/…ôbÀàte…™n/',
                        meaning: 'v. Ëé∑ÂæóÔºåÂæóÂà∞',
                        exams: ['cet6'],
                        example: 'He obtained permission to leave early.'
                    },
                    'participate': {
                        phonetic: '/p…ëÀêÀàt…™s…™pe…™t/',
                        meaning: 'v. ÂèÇ‰∏éÔºåÂèÇÂä†',
                        exams: ['cet6'],
                        example: 'Everyone can participate in this activity.'
                    },
                    'potential': {
                        phonetic: '/p…ôÀàten Él/',
                        meaning: 'adj. ÊΩúÂú®ÁöÑÔºåÂèØËÉΩÁöÑ',
                        exams: ['cet6'],
                        example: 'He has great potential for success.'
                    },
                    'previous': {
                        phonetic: '/ÀàpriÀêvi…ôs/',
                        meaning: 'adj. ‰ª•ÂâçÁöÑÔºåÂÖàÂâçÁöÑ',
                        exams: ['cet6'],
                        example: 'In the previous chapter, we discussed...'
                    },
                    'require': {
                        phonetic: '/r…™Ààkwa…™…ô(r)/',
                        meaning: 'v. ÈúÄË¶ÅÔºåË¶ÅÊ±Ç',
                        exams: ['cet6'],
                        example: 'This job requires experience.'
                    },
                    'significant': {
                        phonetic: '/s…™…°Ààn…™f…™k…ônt/',
                        meaning: 'adj. ÈáçË¶ÅÁöÑÔºåÊòæËëóÁöÑ',
                        exams: ['cet6'],
                        example: 'This is a significant discovery.'
                    },
                    'specific': {
                        phonetic: '/sp…ôÀàs…™f…™k/',
                        meaning: 'adj. ÂÖ∑‰ΩìÁöÑÔºåÁâπÂÆöÁöÑ',
                        exams: ['cet6'],
                        example: 'Please give me specific instructions.'
                    },
                    'structure': {
                        phonetic: '/Ààstr åkt É…ô(r)/',
                        meaning: 'n. ÁªìÊûÑÔºåÊûÑÈÄ†',
                        exams: ['cet6'],
                        example: 'The structure of this building is complex.'
                    },
                    'technology': {
                        phonetic: '/tekÀàn…íl…ôd íi/',
                        meaning: 'n. ÊäÄÊúØÔºåÁßëÊäÄ',
                        exams: ['cet6'],
                        example: 'Modern technology is amazing.'
                    },
                    'traditional': {
                        phonetic: '/tr…ôÀàd…™ É…ônl/',
                        meaning: 'adj. ‰º†ÁªüÁöÑÔºåÊÉØ‰æãÁöÑ',
                        exams: ['cet6'],
                        example: 'This is a traditional method.'
                    },
                    'understand': {
                        phonetic: '/Àå ånd…ôÀàst√¶nd/',
                        meaning: 'v. ÁêÜËß£ÔºåÊòéÁôΩ',
                        exams: ['cet6'],
                        example: 'I understand your point.'
                    },
                    'various': {
                        phonetic: '/Ààve…ôri…ôs/',
                        meaning: 'adj. ÂêÑÁßçÂêÑÊ†∑ÁöÑ',
                        exams: ['cet6'],
                        example: 'There are various options available.'
                    },
                    'welfare': {
                        phonetic: '/Ààwelfe…ô(r)/',
                        meaning: 'n. Á¶èÂà©ÔºåÁ¶èÁ•â',
                        exams: ['cet6'],
                        example: 'The government cares about people\'s welfare.'
                    },
                    
                    // ÂÖ´Á∫ßËØçÊ±á
                    'aberrant': {
                        phonetic: '/…ôÀàber…ônt/',
                        meaning: 'adj. ÂèçÂ∏∏ÁöÑÔºåÂºÇÂ∏∏ÁöÑ',
                        exams: ['cet8'],
                        example: 'His behavior was aberrant.'
                    },
                    'abeyance': {
                        phonetic: '/…ôÀàbe…™…ôns/',
                        meaning: 'n. ÊöÇÂÅúÔºå‰∏≠Ê≠¢',
                        exams: ['cet8'],
                        example: 'The project is in abeyance.'
                    },
                    'abstruse': {
                        phonetic: '/√¶bÀàstruÀês/',
                        meaning: 'adj. Ê∑±Â••ÁöÑÔºåÊô¶Ê∂©ÁöÑ',
                        exams: ['cet8'],
                        example: 'The text was too abstruse for me.'
                    },
                    'acquiesce': {
                        phonetic: '/Àå√¶kwiÀàes/',
                        meaning: 'v. ÈªòËÆ∏ÔºåÈªòËÆ§',
                        exams: ['cet8'],
                        example: 'He acquiesced to their demands.'
                    },
                    'adamant': {
                        phonetic: '/Àà√¶d…ôm…ônt/',
                        meaning: 'adj. ÂùöÂÜ≥ÁöÑÔºåÂõ∫ÊâßÁöÑ',
                        exams: ['cet8'],
                        example: 'She was adamant about her decision.'
                    },
                    
                    // ÈõÖÊÄùËØçÊ±á
                    'accommodation': {
                        phonetic: '/…ôÀåk…ím…ôÀàde…™ Én/',
                        meaning: 'n. ‰ΩèÂÆøÔºåËÜ≥ÂÆø',
                        exams: ['ielts'],
                        example: 'The hotel provides excellent accommodation.'
                    },
                    'accomplish': {
                        phonetic: '/…ôÀàk åmpl…™ É/',
                        meaning: 'v. ÂÆåÊàêÔºåÂÆûÁé∞',
                        exams: ['ielts'],
                        example: 'She accomplished her mission successfully.'
                    },
                    'accurate': {
                        phonetic: '/Àà√¶kj…ôr…ôt/',
                        meaning: 'adj. ÂáÜÁ°ÆÁöÑÔºåÁ≤æÁ°ÆÁöÑ',
                        exams: ['ielts'],
                        example: 'The measurements were accurate.'
                    },
                    'adequate': {
                        phonetic: '/Àà√¶d…™kw…ôt/',
                        meaning: 'adj. ÂÖÖË∂≥ÁöÑÔºåÈÄÇÂΩìÁöÑ',
                        exams: ['ielts'],
                        example: 'The food was adequate for everyone.'
                    },
                    'administration': {
                        phonetic: '/…ôdÀåm…™n…™Ààstre…™ Én/',
                        meaning: 'n. ÁÆ°ÁêÜÔºåË°åÊîø',
                        exams: ['ielts'],
                        example: 'The administration is efficient.'
                    },
                    
                    // ÊâòÁ¶èËØçÊ±á
                    'academic': {
                        phonetic: '/Àå√¶k…ôÀàdem…™k/',
                        meaning: 'adj. Â≠¶ÊúØÁöÑÔºåÁêÜËÆ∫ÁöÑ',
                        exams: ['toefl'],
                        example: 'This is an academic paper.'
                    },
                    'accomplish': {
                        phonetic: '/…ôÀàk åmpl…™ É/',
                        meaning: 'v. ÂÆåÊàêÔºåÂÆûÁé∞',
                        exams: ['toefl'],
                        example: 'He accomplished his task on time.'
                    },
                    'achieve': {
                        phonetic: '/…ôÀàt ÉiÀêv/',
                        meaning: 'v. ËææÂà∞ÔºåÂÆûÁé∞',
                        exams: ['toefl'],
                        example: 'He achieved great success.'
                    },
                    'adequate': {
                        phonetic: '/Àà√¶d…™kw…ôt/',
                        meaning: 'adj. ÂÖÖË∂≥ÁöÑÔºåÈÄÇÂΩìÁöÑ',
                        exams: ['toefl'],
                        example: 'The preparation was adequate.'
                    },
                    'administration': {
                        phonetic: '/…ôdÀåm…™n…™Ààstre…™ Én/',
                        meaning: 'n. ÁÆ°ÁêÜÔºåË°åÊîø',
                        exams: ['toefl'],
                        example: 'The administration is responsible.'
                    },
                    
                    // GREËØçÊ±á
                    'aberrant': {
                        phonetic: '/…ôÀàber…ônt/',
                        meaning: 'adj. ÂèçÂ∏∏ÁöÑÔºåÂºÇÂ∏∏ÁöÑ',
                        exams: ['gre'],
                        example: 'The aberrant behavior was concerning.'
                    },
                    'abeyance': {
                        phonetic: '/…ôÀàbe…™…ôns/',
                        meaning: 'n. ÊöÇÂÅúÔºå‰∏≠Ê≠¢',
                        exams: ['gre'],
                        example: 'The matter is held in abeyance.'
                    },
                    'abstruse': {
                        phonetic: '/√¶bÀàstruÀês/',
                        meaning: 'adj. Ê∑±Â••ÁöÑÔºåÊô¶Ê∂©ÁöÑ',
                        exams: ['gre'],
                        example: 'The abstruse theory was difficult to understand.'
                    },
                    'acquiesce': {
                        phonetic: '/Àå√¶kwiÀàes/',
                        meaning: 'v. ÈªòËÆ∏ÔºåÈªòËÆ§',
                        exams: ['gre'],
                        example: 'He acquiesced to the proposal.'
                    },
                    'adamant': {
                        phonetic: '/Àà√¶d…ôm…ônt/',
                        meaning: 'adj. ÂùöÂÜ≥ÁöÑÔºåÂõ∫ÊâßÁöÑ',
                        exams: ['gre'],
                        example: 'She was adamant in her refusal.'
                    },
                    
                    // ËÄÉÁ†îËØçÊ±á
                    'abandon': {
                        phonetic: '/…ôÀàb√¶nd…ôn/',
                        meaning: 'v. ÊîæÂºÉÔºåÈÅóÂºÉ',
                        exams: ['kaoyan'],
                        example: 'He would never abandon his principles.'
                    },
                    'ability': {
                        phonetic: '/…ôÀàb…™l…ôti/',
                        meaning: 'n. ËÉΩÂäõÔºåÊâçËÉΩ',
                        exams: ['kaoyan'],
                        example: 'She has the ability to solve complex problems.'
                    },
                    'academic': {
                        phonetic: '/Àå√¶k…ôÀàdem…™k/',
                        meaning: 'adj. Â≠¶ÊúØÁöÑÔºåÁêÜËÆ∫ÁöÑ',
                        exams: ['kaoyan'],
                        example: 'This is an academic discussion.'
                    },
                    'accomplish': {
                        phonetic: '/…ôÀàk åmpl…™ É/',
                        meaning: 'v. ÂÆåÊàêÔºåÂÆûÁé∞',
                        exams: ['kaoyan'],
                        example: 'He accomplished his goals.'
                    },
                    'accurate': {
                        phonetic: '/Àà√¶kj…ôr…ôt/',
                        meaning: 'adj. ÂáÜÁ°ÆÁöÑÔºåÁ≤æÁ°ÆÁöÑ',
                        exams: ['kaoyan'],
                        example: 'The data is accurate.'
                    },
                    
                    // È´òËÄÉËØçÊ±á
                    'ability': {
                        phonetic: '/…ôÀàb…™l…ôti/',
                        meaning: 'n. ËÉΩÂäõÔºåÊâçËÉΩ',
                        exams: ['gaokao'],
                        example: 'He has the ability to solve problems.'
                    },
                    'abroad': {
                        phonetic: '/…ôÀàbr…îÀêd/',
                        meaning: 'adv. Âú®ÂõΩÂ§ñÔºåÊµ∑Â§ñ',
                        exams: ['gaokao'],
                        example: 'She went abroad to study.'
                    },
                    'accept': {
                        phonetic: '/…ôkÀàsept/',
                        meaning: 'v. Êé•ÂèóÔºåÂêåÊÑè',
                        exams: ['gaokao'],
                        example: 'I accept your invitation.'
                    },
                    'achieve': {
                        phonetic: '/…ôÀàt ÉiÀêv/',
                        meaning: 'v. ËææÂà∞ÔºåÂÆûÁé∞',
                        exams: ['gaokao'],
                        example: 'He achieved his dream.'
                    },
                    'active': {
                        phonetic: '/Àà√¶kt…™v/',
                        meaning: 'adj. Ê¥ªË∑ÉÁöÑÔºåÁßØÊûÅÁöÑ',
                        exams: ['gaokao'],
                        example: 'She is very active in class.'
                    },
                    
                    // Êõ¥Â§öÂ∏∏Áî®ËØçÊ±á
                    'hello': {
                        phonetic: '/h…ôÀàl…ô ä/',
                        meaning: 'int. ‰Ω†Â•ΩÔºåÂñÇ',
                        exams: [],
                        example: 'Hello, how are you today?'
                    },
                    'world': {
                        phonetic: '/w…úÀêld/',
                        meaning: 'n. ‰∏ñÁïåÔºåÂú∞ÁêÉ',
                        exams: [],
                        example: 'The world is changing rapidly.'
                    },
                    'good': {
                        phonetic: '/…° äd/',
                        meaning: 'adj. Â•ΩÁöÑÔºå‰ºòÁßÄÁöÑ',
                        exams: [],
                        example: 'This is a good book.'
                    },
                    'time': {
                        phonetic: '/ta…™m/',
                        meaning: 'n. Êó∂Èó¥ÔºåÊó∂Âàª',
                        exams: [],
                        example: 'Time flies when you are having fun.'
                    },
                    'people': {
                        phonetic: '/ÀàpiÀêpl/',
                        meaning: 'n. ‰∫∫‰ª¨Ôºå‰∫∫Ê∞ë',
                        exams: [],
                        example: 'Many people attended the meeting.'
                    },
                    'year': {
                        phonetic: '/j…™…ô(r)/',
                        meaning: 'n. Âπ¥ÔºåÂπ¥Â∫¶',
                        exams: [],
                        example: 'Happy New Year!'
                    },
                    'way': {
                        phonetic: '/we…™/',
                        meaning: 'n. ÊñπÂºèÔºåÊñπÊ≥ï',
                        exams: [],
                        example: 'This is the best way to solve the problem.'
                    },
                    'day': {
                        phonetic: '/de…™/',
                        meaning: 'n. Â§©ÔºåÊó•Â≠ê',
                        exams: [],
                        example: 'Have a nice day!'
                    },
                    'man': {
                        phonetic: '/m√¶n/',
                        meaning: 'n. Áî∑‰∫∫Ôºå‰∫∫Á±ª',
                        exams: [],
                        example: 'Every man has his own opinion.'
                    },
                    'thing': {
                        phonetic: '/Œ∏…™≈ã/',
                        meaning: 'n. ‰∫ãÁâ©Ôºå‰∏úË•ø',
                        exams: [],
                        example: 'This thing is very important.'
                    },
                    'woman': {
                        phonetic: '/Ààw äm…ôn/',
                        meaning: 'n. Â•≥‰∫∫ÔºåÂ•≥ÊÄß',
                        exams: [],
                        example: 'She is a strong woman.'
                    },
                    'life': {
                        phonetic: '/la…™f/',
                        meaning: 'n. ÁîüÂëΩÔºåÁîüÊ¥ª',
                        exams: [],
                        example: 'Life is beautiful.'
                    },
                    'child': {
                        phonetic: '/t Éa…™ld/',
                        meaning: 'n. Â≠©Â≠êÔºåÂÑøÁ´•',
                        exams: [],
                        example: 'Every child deserves love.'
                    },
                    'work': {
                        phonetic: '/w…úÀêk/',
                        meaning: 'n. Â∑•‰ΩúÔºåÂä≥Âä® v. Â∑•‰Ωú',
                        exams: [],
                        example: 'I work hard every day.'
                    },
                    'place': {
                        phonetic: '/ple…™s/',
                        meaning: 'n. Âú∞ÊñπÔºå‰ΩçÁΩÆ',
                        exams: [],
                        example: 'This is a beautiful place.'
                    },
                    'case': {
                        phonetic: '/ke…™s/',
                        meaning: 'n. ÊÉÖÂÜµÔºåÊ°à‰æã',
                        exams: [],
                        example: 'In this case, we need to be careful.'
                    },
                    'week': {
                        phonetic: '/wiÀêk/',
                        meaning: 'n. Âë®ÔºåÊòüÊúü',
                        exams: [],
                        example: 'I will see you next week.'
                    },
                    'company': {
                        phonetic: '/Ààk åmp…ôni/',
                        meaning: 'n. ÂÖ¨Âè∏ÔºåÈô™‰º¥',
                        exams: [],
                        example: 'I work for a big company.'
                    },
                    'system': {
                        phonetic: '/Ààs…™st…ôm/',
                        meaning: 'n. Á≥ªÁªüÔºåÂà∂Â∫¶',
                        exams: [],
                        example: 'The computer system is working well.'
                    },
                    'program': {
                        phonetic: '/Ààpr…ô ä…°r√¶m/',
                        meaning: 'n. Á®ãÂ∫èÔºåËäÇÁõÆ',
                        exams: [],
                        example: 'This program is very useful.'
                    },
                    'question': {
                        phonetic: '/Ààkwest É…ôn/',
                        meaning: 'n. ÈóÆÈ¢òÔºåÁñëÈóÆ',
                        exams: [],
                        example: 'Do you have any questions?'
                    },
                    'government': {
                        phonetic: '/Àà…° åv…ônm…ônt/',
                        meaning: 'n. ÊîøÂ∫úÔºåÊîø‰Ωì',
                        exams: [],
                        example: 'The government made a new policy.'
                    },
                    'number': {
                        phonetic: '/Ààn åmb…ô(r)/',
                        meaning: 'n. Êï∞Â≠óÔºåÂè∑Á†Å',
                        exams: [],
                        example: 'What is your phone number?'
                    },
                    'group': {
                        phonetic: '/…°ruÀêp/',
                        meaning: 'n. ÁªÑÔºåÁæ§',
                        exams: [],
                        example: 'We work as a group.'
                    },
                    'problem': {
                        phonetic: '/Ààpr…íbl…ôm/',
                        meaning: 'n. ÈóÆÈ¢òÔºåÈöæÈ¢ò',
                        exams: [],
                        example: 'This is a difficult problem.'
                    },
                    'fact': {
                        phonetic: '/f√¶kt/',
                        meaning: 'n. ‰∫ãÂÆûÔºåÁúüÁõ∏',
                        exams: [],
                        example: 'The fact is that he is right.'
                    },
                    'water': {
                        phonetic: '/Ààw…îÀêt…ô(r)/',
                        meaning: 'n. Ê∞¥',
                        exams: [],
                        example: 'I need to drink more water.'
                    },
                    'money': {
                        phonetic: '/Ààm åni/',
                        meaning: 'n. Èí±ÔºåÈáëÈí±',
                        exams: [],
                        example: 'Money is not everything.'
                    },
                    'month': {
                        phonetic: '/m ånŒ∏/',
                        meaning: 'n. ÊúàÔºåÊúà‰ªΩ',
                        exams: [],
                        example: 'I will travel next month.'
                    },
                    'lot': {
                        phonetic: '/l…ít/',
                        meaning: 'n. ÂæàÂ§öÔºåÂ§ßÈáè',
                        exams: [],
                        example: 'I have a lot of work to do.'
                    },
                    'right': {
                        phonetic: '/ra…™t/',
                        meaning: 'adj. Ê≠£Á°ÆÁöÑÔºåÂè≥ËæπÁöÑ',
                        exams: [],
                        example: 'You are absolutely right.'
                    },
                    'study': {
                        phonetic: '/Ààst ådi/',
                        meaning: 'v. Â≠¶‰π†ÔºåÁ†îÁ©∂ n. Â≠¶‰π†',
                        exams: [],
                        example: 'I study English every day.'
                    },
                    'book': {
                        phonetic: '/b äk/',
                        meaning: 'n. ‰π¶Ôºå‰π¶Á±ç',
                        exams: [],
                        example: 'I love reading books.'
                    },
                    'eye': {
                        phonetic: '/a…™/',
                        meaning: 'n. ÁúºÁùõ',
                        exams: [],
                        example: 'She has beautiful eyes.'
                    },
                    'job': {
                        phonetic: '/d í…íb/',
                        meaning: 'n. Â∑•‰ΩúÔºåËÅå‰∏ö',
                        exams: [],
                        example: 'I have a good job.'
                    },
                    'word': {
                        phonetic: '/w…úÀêd/',
                        meaning: 'n. ÂçïËØçÔºåËØùËØ≠',
                        exams: [],
                        example: 'This is a new word for me.'
                    },
                    'business': {
                        phonetic: '/Ààb…™zn…ôs/',
                        meaning: 'n. ÂïÜ‰∏öÔºåÁîüÊÑè',
                        exams: [],
                        example: 'He runs his own business.'
                    },
                    'issue': {
                        phonetic: '/Àà…™ ÉuÀê/',
                        meaning: 'n. ÈóÆÈ¢òÔºåËÆÆÈ¢ò',
                        exams: [],
                        example: 'This is an important issue.'
                    },
                    'side': {
                        phonetic: '/sa…™d/',
                        meaning: 'n. ËæπÔºå‰æßÈù¢',
                        exams: [],
                        example: 'Please sit on this side.'
                    },
                    'kind': {
                        phonetic: '/ka…™nd/',
                        meaning: 'n. ÁßçÁ±ªÔºåÁ±ªÂûã adj. ÂñÑËâØÁöÑ',
                        exams: [],
                        example: 'What kind of music do you like?'
                    },
                    'head': {
                        phonetic: '/hed/',
                        meaning: 'n. Â§¥ÔºåÂ§¥ÈÉ®',
                        exams: [],
                        example: 'He nodded his head.'
                    },
                    'house': {
                        phonetic: '/ha äs/',
                        meaning: 'n. ÊàøÂ≠êÔºå‰ΩèÂÆÖ',
                        exams: [],
                        example: 'I live in a big house.'
                    },
                    'service': {
                        phonetic: '/Ààs…úÀêv…™s/',
                        meaning: 'n. ÊúçÂä°ÔºåÊúçÂä°',
                        exams: [],
                        example: 'The service here is excellent.'
                    },
                    'friend': {
                        phonetic: '/frend/',
                        meaning: 'n. ÊúãÂèã',
                        exams: [],
                        example: 'She is my best friend.'
                    },
                    'father': {
                        phonetic: '/Ààf…ëÀê√∞…ô(r)/',
                        meaning: 'n. Áà∂‰∫≤',
                        exams: [],
                        example: 'My father is a teacher.'
                    },
                    'centre': {
                        phonetic: '/Ààsent…ô(r)/',
                        meaning: 'n. ‰∏≠ÂøÉÔºå‰∏≠Â§Æ',
                        exams: [],
                        example: 'The city centre is very busy.'
                    },
                    'force': {
                        phonetic: '/f…îÀês/',
                        meaning: 'n. ÂäõÈáèÔºåÊ≠¶Âäõ',
                        exams: [],
                        example: 'The police force is well-trained.'
                    },
                    'education': {
                        phonetic: '/Àåed íuÀàke…™ Én/',
                        meaning: 'n. ÊïôËÇ≤',
                        exams: [],
                        example: 'Education is very important.'
                    },
                    'care': {
                        phonetic: '/ke…ô(r)/',
                        meaning: 'n. ÂÖ≥ÂøÉÔºåÁÖßÈ°æ',
                        exams: [],
                        example: 'Take care of yourself.'
                    },
                    'research': {
                        phonetic: '/r…™Ààs…úÀêt É/',
                        meaning: 'n. Á†îÁ©∂ÔºåË∞ÉÊü•',
                        exams: [],
                        example: 'He is doing research on cancer.'
                    },
                    'approach': {
                        phonetic: '/…ôÀàpr…ô ät É/',
                        meaning: 'v. Êé•ËøëÔºåÂ§ÑÁêÜ',
                        exams: ['cet6'],
                        example: 'We need to approach this problem differently.'
                    },
                    'available': {
                        phonetic: '/…ôÀàve…™l…ôbl/',
                        meaning: 'adj. ÂèØÁî®ÁöÑÔºåÂèØËé∑ÂæóÁöÑ',
                        exams: ['cet6'],
                        example: 'The information is available online.'
                    },
                    'benefit': {
                        phonetic: '/Ààben…™f…™t/',
                        meaning: 'n. Â•ΩÂ§ÑÔºåÂà©Áõä',
                        exams: ['cet6'],
                        example: 'The new policy will benefit everyone.'
                    },
                    'challenge': {
                        phonetic: '/Ààt É√¶l…™nd í/',
                        meaning: 'n. ÊåëÊàòÔºåÈöæÈ¢ò',
                        exams: ['cet6'],
                        example: 'This is a great challenge for us.'
                    },
                    'develop': {
                        phonetic: '/d…™Ààvel…ôp/',
                        meaning: 'v. ÂèëÂ±ïÔºåÂºÄÂèë',
                        exams: ['cet6'],
                        example: 'We need to develop new skills.'
                    },
                    'environment': {
                        phonetic: '/…™nÀàva…™r…ônm…ônt/',
                        meaning: 'n. ÁéØÂ¢É',
                        exams: ['cet6'],
                        example: 'We must protect the environment.'
                    },
                    'experience': {
                        phonetic: '/…™kÀàsp…™…ôri…ôns/',
                        meaning: 'n. ÁªèÈ™åÔºåÁªèÂéÜ',
                        exams: ['cet6'],
                        example: 'She has a lot of experience in teaching.'
                    },
                    'function': {
                        phonetic: '/Ààf å≈ãk Én/',
                        meaning: 'n. ÂäüËÉΩÔºå‰ΩúÁî®',
                        exams: ['cet6'],
                        example: 'This function is very useful.'
                    },
                    'generate': {
                        phonetic: '/Ààd íen…ôre…™t/',
                        meaning: 'v. ‰∫ßÁîüÔºåÁîüÊàê',
                        exams: ['cet6'],
                        example: 'The machine can generate electricity.'
                    },
                    'identify': {
                        phonetic: '/a…™Ààdent…™fa…™/',
                        meaning: 'v. ËØÜÂà´ÔºåÁ°ÆËÆ§',
                        exams: ['cet6'],
                        example: 'Can you identify this person?'
                    },
                    'implement': {
                        phonetic: '/Àà…™mpl…™ment/',
                        meaning: 'v. ÂÆûÊñΩÔºåÊâßË°å',
                        exams: ['cet6'],
                        example: 'We will implement this plan next month.'
                    },
                    'indicate': {
                        phonetic: '/Àà…™nd…™ke…™t/',
                        meaning: 'v. ÊåáÁ§∫ÔºåË°®Êòé',
                        exams: ['cet6'],
                        example: 'The signs indicate the way to go.'
                    },
                    'maintain': {
                        phonetic: '/me…™nÀàte…™n/',
                        meaning: 'v. Áª¥ÊåÅÔºå‰øùÊåÅ',
                        exams: ['cet6'],
                        example: 'We must maintain good relationships.'
                    },
                    'obtain': {
                        phonetic: '/…ôbÀàte…™n/',
                        meaning: 'v. Ëé∑ÂæóÔºåÂæóÂà∞',
                        exams: ['cet6'],
                        example: 'He obtained permission to leave early.'
                    },
                    'participate': {
                        phonetic: '/p…ëÀêÀàt…™s…™pe…™t/',
                        meaning: 'v. ÂèÇ‰∏éÔºåÂèÇÂä†',
                        exams: ['cet6'],
                        example: 'Everyone can participate in this activity.'
                    },
                    'potential': {
                        phonetic: '/p…ôÀàten Él/',
                        meaning: 'adj. ÊΩúÂú®ÁöÑÔºåÂèØËÉΩÁöÑ',
                        exams: ['cet6'],
                        example: 'He has great potential for success.'
                    },
                    'previous': {
                        phonetic: '/ÀàpriÀêvi…ôs/',
                        meaning: 'adj. ‰ª•ÂâçÁöÑÔºåÂÖàÂâçÁöÑ',
                        exams: ['cet6'],
                        example: 'In the previous chapter, we discussed...'
                    },
                    'require': {
                        phonetic: '/r…™Ààkwa…™…ô(r)/',
                        meaning: 'v. ÈúÄË¶ÅÔºåË¶ÅÊ±Ç',
                        exams: ['cet6'],
                        example: 'This job requires experience.'
                    },
                    'significant': {
                        phonetic: '/s…™…°Ààn…™f…™k…ônt/',
                        meaning: 'adj. ÈáçË¶ÅÁöÑÔºåÊòæËëóÁöÑ',
                        exams: ['cet6'],
                        example: 'This is a significant discovery.'
                    },
                    'specific': {
                        phonetic: '/sp…ôÀàs…™f…™k/',
                        meaning: 'adj. ÂÖ∑‰ΩìÁöÑÔºåÁâπÂÆöÁöÑ',
                        exams: ['cet6'],
                        example: 'Please give me specific instructions.'
                    },
                    'structure': {
                        phonetic: '/Ààstr åkt É…ô(r)/',
                        meaning: 'n. ÁªìÊûÑÔºåÊûÑÈÄ†',
                        exams: ['cet6'],
                        example: 'The structure of this building is complex.'
                    },
                    'technology': {
                        phonetic: '/tekÀàn…íl…ôd íi/',
                        meaning: 'n. ÊäÄÊúØÔºåÁßëÊäÄ',
                        exams: ['cet6'],
                        example: 'Modern technology is amazing.'
                    },
                    'traditional': {
                        phonetic: '/tr…ôÀàd…™ É…ônl/',
                        meaning: 'adj. ‰º†ÁªüÁöÑÔºåÊÉØ‰æãÁöÑ',
                        exams: ['cet6'],
                        example: 'This is a traditional method.'
                    },
                    'understand': {
                        phonetic: '/Àå ånd…ôÀàst√¶nd/',
                        meaning: 'v. ÁêÜËß£ÔºåÊòéÁôΩ',
                        exams: ['cet6'],
                        example: 'I understand your point.'
                    },
                    'various': {
                        phonetic: '/Ààve…ôri…ôs/',
                        meaning: 'adj. ÂêÑÁßçÂêÑÊ†∑ÁöÑ',
                        exams: ['cet6'],
                        example: 'There are various options available.'
                    },
                    'welfare': {
                        phonetic: '/Ààwelfe…ô(r)/',
                        meaning: 'n. Á¶èÂà©ÔºåÁ¶èÁ•â',
                        exams: ['cet6'],
                        example: 'The government cares about people\'s welfare.'
                    }
                };
                
                console.log('ËØçÂÖ∏Êï∞ÊçÆÂàùÂßãÂåñÂÆåÊàêÔºåÂÖ±Âä†ËΩΩ', Object.keys(wordDictionary).length, '‰∏™ÂçïËØç');
            }
            
            // ÂàùÂßãÂåñËÄÉËØïËØçÊ±áÂàóË°®
            function initializeExamWordLists() {
                // ‰ªéËØçÂÖ∏‰∏≠ÊèêÂèñËÄÉËØïËØçÊ±á
                Object.keys(wordDictionary).forEach(word => {
                    const wordInfo = wordDictionary[word];
                    if (wordInfo.exams && wordInfo.exams.length > 0) {
                        wordInfo.exams.forEach(exam => {
                            if (examWordLists[exam]) {
                                examWordLists[exam].add(word);
                            }
                        });
                    }
                });
                
                console.log('ËÄÉËØïËØçÊ±áÂàóË°®ÂàùÂßãÂåñÂÆåÊàê');
                console.log('ÂõõÁ∫ßËØçÊ±á:', examWordLists.cet4.size, '‰∏™');
                console.log('ÂÖ≠Á∫ßËØçÊ±á:', examWordLists.cet6.size, '‰∏™');
                console.log('ÂÖ´Á∫ßËØçÊ±á:', examWordLists.cet8.size, '‰∏™');
                console.log('ÈõÖÊÄùËØçÊ±á:', examWordLists.ielts.size, '‰∏™');
                console.log('ÊâòÁ¶èËØçÊ±á:', examWordLists.toefl.size, '‰∏™');
                console.log('GREËØçÊ±á:', examWordLists.gre.size, '‰∏™');
                console.log('È´òËÄÉËØçÊ±á:', examWordLists.gaokao.size, '‰∏™');
                console.log('ËÄÉÁ†îËØçÊ±á:', examWordLists.kaoyan.size, '‰∏™');
            }
            
            // Â§ÑÁêÜÂ≠óÂπïÊñáÊú¨Ôºå‰ΩøÂçïËØçÂèØÁÇπÂáª
            function makeWordsClickable(element) {
                if (!element || !element.textContent) return;
                
                const text = element.textContent;
                // ÊîπËøõÁöÑÂçïËØçÂàÜÂâ≤ÔºåÂ§ÑÁêÜÊ†áÁÇπÁ¨¶Âè∑
                const words = text.split(/\s+/);
                
                element.innerHTML = words.map(word => {
                    // ‰øùÁïôÂéüÂßãÂçïËØçÁî®‰∫éÊòæÁ§∫
                    const originalWord = word;
                    // Ê∏ÖÁêÜÂçïËØçÁî®‰∫éÊü•Êâæ
                    const cleanWord = word.replace(/[^\w]/g, '').toLowerCase();
                    
                    if (cleanWord && cleanWord.length > 0 && wordDictionary[cleanWord]) {
                        return `<span class="word-clickable" data-word="${cleanWord}">${originalWord}</span>`;
                    }
                    return originalWord;
                }).join(' ');
                
                // ‰∏∫ÂèØÁÇπÂáªÂçïËØçÊ∑ªÂä†‰∫ã‰ª∂ÁõëÂê¨Âô®
                const clickableWords = element.querySelectorAll('.word-clickable');
                clickableWords.forEach(wordSpan => {
                    // ÁßªÈô§‰πãÂâçÁöÑ‰∫ã‰ª∂ÁõëÂê¨Âô®ÔºàÂ¶ÇÊûúÊúâÔºâ
                    wordSpan.removeEventListener('click', handleWordClick);
                    wordSpan.removeEventListener('touchstart', handleWordTouchStart);
                    wordSpan.removeEventListener('touchend', handleWordTouchEnd);
                    
                    // Ê∑ªÂä†Êñ∞ÁöÑ‰∫ã‰ª∂ÁõëÂê¨Âô®
                    wordSpan.addEventListener('click', handleWordClick);
                    wordSpan.addEventListener('touchstart', handleWordTouchStart, { passive: false });
                    wordSpan.addEventListener('touchend', handleWordTouchEnd, { passive: false });
                });
            }
            
            // ÂçïËØçÁÇπÂáªÂ§ÑÁêÜÂáΩÊï∞
            function handleWordClick(e) {
                e.preventDefault();
                e.stopPropagation();
                
                const word = this.dataset.word;
                if (word) {
                    showWordPopup(word, e);
                }
            }
            
            // ÂçïËØçËß¶Êë∏ÂºÄÂßãÂ§ÑÁêÜÂáΩÊï∞
            function handleWordTouchStart(e) {
                e.preventDefault();
                this.classList.add('clicked');
            }
            
            // ÂçïËØçËß¶Êë∏ÁªìÊùüÂ§ÑÁêÜÂáΩÊï∞
            function handleWordTouchEnd(e) {
                e.preventDefault();
                this.classList.remove('clicked');
                
                const word = this.dataset.word;
                if (word) {
                    showWordPopup(word, e);
                }
            }
            
            // ÊòæÁ§∫ÂçïËØçÂºπÁ™ó
            function showWordPopup(word, event) {
                console.log('Â∞ùËØïÊòæÁ§∫ÂçïËØçÂºπÁ™ó:', word);
                
                const wordInfo = wordDictionary[word];
                if (!wordInfo) {
                    console.log('Êú™ÊâæÂà∞ÂçïËØç:', word);
                    // ÊòæÁ§∫ÈªòËÆ§‰ø°ÊÅØ
                    popupWord.textContent = word;
                    popupPhonetic.textContent = 'ÊöÇÊó†Èü≥Ê†á';
                    popupMeaning.textContent = 'ÊöÇÊó†Èáä‰πâ';
                    popupExamTags.innerHTML = '';
                    popupExample.style.display = 'none';
                    
                    // ÂÆö‰ΩçÂπ∂ÊòæÁ§∫ÂºπÁ™ó
                    positionPopup(event);
                    wordPopup.classList.add('show');
                    currentClickedWord = word;
                    return;
                }
                
                // Ê∏ÖÈô§‰πãÂâçÁöÑË∂ÖÊó∂
                if (popupTimeout) {
                    clearTimeout(popupTimeout);
                }
                
                // Êõ¥Êñ∞ÂºπÁ™óÂÜÖÂÆπ
                popupWord.textContent = word;
                popupPhonetic.textContent = wordInfo.phonetic || 'ÊöÇÊó†Èü≥Ê†á';
                popupMeaning.textContent = wordInfo.meaning || 'ÊöÇÊó†Èáä‰πâ';
                
                // Êõ¥Êñ∞ËÄÉËØïÊ†áÁ≠æ
                popupExamTags.innerHTML = '';
                if (wordInfo.exams && wordInfo.exams.length > 0) {
                    wordInfo.exams.forEach(exam => {
                        const tag = document.createElement('span');
                        tag.className = `exam-tag ${exam}`;
                        tag.textContent = exam.toUpperCase();
                        popupExamTags.appendChild(tag);
                    });
                }
                
                // ÊòæÁ§∫‰æãÂè•
                if (wordInfo.example) {
                    popupExample.style.display = 'block';
                    popupExampleText.textContent = wordInfo.example;
                } else {
                    popupExample.style.display = 'none';
                }
                
                // ÂÆö‰ΩçÂºπÁ™ó
                positionPopup(event);
                
                // ÊòæÁ§∫ÂºπÁ™ó
                wordPopup.classList.add('show');
                currentClickedWord = word;
                
                console.log('ÊòæÁ§∫ÂçïËØçÂºπÁ™ó:', word, wordInfo);
            }
            
            // ÈöêËóèÂçïËØçÂºπÁ™ó
            function hideWordPopup() {
                wordPopup.classList.remove('show');
                currentClickedWord = null;
                
                if (popupTimeout) {
                    clearTimeout(popupTimeout);
                }
            }
            
            // ÂÆö‰ΩçÂºπÁ™ó
            function positionPopup(event) {
                const popup = wordPopup;
                const rect = popup.getBoundingClientRect();
                const windowWidth = window.innerWidth;
                const windowHeight = window.innerHeight;
                
                let x, y;
                
                if (event) {
                    // Âü∫‰∫éÁÇπÂáª‰ΩçÁΩÆÂÆö‰Ωç
                    x = event.clientX;
                    y = event.clientY;
                } else {
                    // ÈªòËÆ§‰ΩçÁΩÆ
                    x = windowWidth / 2;
                    y = windowHeight / 2;
                }
                
                // Á°Æ‰øùÂºπÁ™ó‰∏çË∂ÖÂá∫Â±èÂπïËæπÁïå
                const popupWidth = 350;
                const popupHeight = 200;
                
                if (x + popupWidth > windowWidth) {
                    x = windowWidth - popupWidth - 20;
                }
                
                if (y + popupHeight > windowHeight) {
                    y = windowHeight - popupHeight - 20;
                }
                
                if (x < 20) x = 20;
                if (y < 20) y = 20;
                
                popup.style.left = x + 'px';
                popup.style.top = y + 'px';
            }
            
            // ‰øÆÊîπupdateSubtitlesÂáΩÊï∞Ôºå‰ΩøÂçïËØçÂèØÁÇπÂáª
            function updateSubtitles() {
                if (subtitles.length === 0) {
                    englishSub.textContent = "";
                    chineseSub.textContent = "";
                    return;
                }
                
                const currentSub = subtitles[currentSubIndex];
                
                // ÊòæÁ§∫ÂÆåÊï¥Â≠óÂπïÔºå‰∏çÊà™Êñ≠
                englishSub.textContent = currentSub.eng;
                chineseSub.textContent = currentSub.chi;
                
                // Á°Æ‰øùÂ≠óÂπïÈ°∫Â∫èÊ≠£Á°Æ
                englishSub.style.order = '1 !important';
                chineseSub.style.order = '2 !important';
                
                // Á°Æ‰øùÂ≠óÂπïÂÆπÂô®ÂèØ‰ª•ÊòæÁ§∫ÂÆåÊï¥ÂÜÖÂÆπ
                const subtitleContainer = document.getElementById('subtitleContainer');
                if (subtitleContainer) {
                    subtitleContainer.style.overflow = 'visible';
                    subtitleContainer.style.maxHeight = 'none';
                    subtitleContainer.style.display = 'flex';
                    subtitleContainer.style.flexDirection = 'column';
                    subtitleContainer.style.alignItems = 'center';
                    subtitleContainer.style.justifyContent = 'flex-end';
                }
                
                // Á°Æ‰øùÂ≠óÂπïÂÖÉÁ¥†ÂèØ‰ª•ÊòæÁ§∫ÂÆåÊï¥ÂÜÖÂÆπ
                englishSub.style.overflow = 'visible';
                englishSub.style.maxHeight = 'none';
                englishSub.style.textOverflow = 'clip';
                chineseSub.style.overflow = 'visible';
                chineseSub.style.maxHeight = 'none';
                chineseSub.style.textOverflow = 'clip';
                
                // ‰ΩøËã±ÊñáÂ≠óÂπï‰∏≠ÁöÑÂçïËØçÂèØÁÇπÂáª
                makeWordsClickable(englishSub);
                
                // Ê∑ªÂä†Â≠óÂπïÂä®Áîª
                englishSub.style.transform = 'scale(1.05)';
                chineseSub.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    englishSub.style.transform = 'scale(1)';
                    chineseSub.style.transform = 'scale(1)';
                }, 300);
                
                // ÈáçÊñ∞Ë∞ÉÊï¥Â≠óÂπïÂ§ßÂ∞è
                adjustSubtitleSize();
                
                // Ê£ÄÊü•Âπ∂Á°Æ‰øùÂ≠óÂπï‰∏çË∂ÖÂá∫ËæπÁïå
                ensureSubtitleBoundaries();
                
                console.log('Â≠óÂπïÊõ¥Êñ∞ÂÆåÊàêÔºåÂΩìÂâçÂ≠óÂπï:', currentSub.eng);
            }
            
            // Á°Æ‰øùÂ≠óÂπï‰∏çË∂ÖÂá∫ËæπÁïåÁöÑÂáΩÊï∞
            function ensureSubtitleBoundaries() {
                const videoContainer = document.querySelector('.video-container');
                const subtitleContainer = document.getElementById('subtitleContainer');
                const englishSub = document.getElementById('englishSub');
                const chineseSub = document.getElementById('chineseSub');
                
                if (!videoContainer || !subtitleContainer || !englishSub || !chineseSub) return;
                
                const videoRect = videoContainer.getBoundingClientRect();
                const subtitleRect = subtitleContainer.getBoundingClientRect();
                
                // Á°Æ‰øùÂ≠óÂπïÂÆπÂô®ÂßãÁªàÂú®ËßÜÈ¢ëÂÆπÂô®ÂÜÖ
                subtitleContainer.style.left = '0';
                subtitleContainer.style.right = '0';
                subtitleContainer.style.bottom = '3px';
                subtitleContainer.style.width = '100%';
                
                // Á°Æ‰øùÂ≠óÂπïÊñáÊú¨‰∏çË∂ÖÂá∫ÂÆπÂô®Ôºå‰ΩÜÂÖÅËÆ∏ÂÆåÊï¥ÊòæÁ§∫
                const maxWidth = Math.min(videoRect.width * 0.95, 95);
                englishSub.style.maxWidth = maxWidth + '%';
                chineseSub.style.maxWidth = maxWidth + '%';
                
                // Á°Æ‰øùÂ≠óÂπïÂÆπÂô®ÂèØ‰ª•ÊòæÁ§∫ÂÆåÊï¥ÂÜÖÂÆπ
                subtitleContainer.style.overflow = 'visible';
                subtitleContainer.style.maxHeight = 'none';
                subtitleContainer.style.display = 'flex';
                subtitleContainer.style.flexDirection = 'column';
                subtitleContainer.style.alignItems = 'center';
                subtitleContainer.style.justifyContent = 'flex-end';
                
                // Á°Æ‰øùÂ≠óÂπïÂÖÉÁ¥†ÂèØ‰ª•ÊòæÁ§∫ÂÆåÊï¥ÂÜÖÂÆπ
                englishSub.style.overflow = 'visible';
                englishSub.style.maxHeight = 'none';
                englishSub.style.textOverflow = 'clip';
                chineseSub.style.overflow = 'visible';
                chineseSub.style.maxHeight = 'none';
                chineseSub.style.textOverflow = 'clip';
                
                console.log('Â≠óÂπïËæπÁïåÂ∑≤Ë∞ÉÊï¥ÔºåÁ°Æ‰øùÂÆåÊï¥ÊòæÁ§∫');
            }
        });
    </script>
</body>
</html>